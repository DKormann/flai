import{J as Ie,S as te,i as ne,s as le,k as w,q as P,a as F,l as y,m as b,r as V,c as N,h as _,n as f,b as $,G as p,K as O,u as z,g as x,v as J,d as M,f as K,L as ke,M as ue,N as $e,e as fe,y as we,z as ye,A as xe,B as Te,H as Z,O as R,P as G,Q as de,R as Ee,T as Me,o as Be,U as je,V as Ae,W as Fe}from"../chunks/index.77ced518.js";function Ne(i){const n=i-1;return n*n*n+1}function _e(i,{delay:n=0,duration:o=400,easing:e=Ie}={}){const l=+getComputedStyle(i).opacity;return{delay:n,duration:o,easing:e,css:s=>`opacity: ${s*l}`}}function Pe(i,{delay:n=0,duration:o=400,easing:e=Ne,axis:l="y"}={}){const s=getComputedStyle(i),r=+s.opacity,c=l==="y"?"height":"width",t=parseFloat(s[c]),a=l==="y"?["top","bottom"]:["left","right"],u=a.map(g=>`${g[0].toUpperCase()}${g.slice(1)}`),m=parseFloat(s[`padding${u[0]}`]),L=parseFloat(s[`padding${u[1]}`]),j=parseFloat(s[`margin${u[0]}`]),C=parseFloat(s[`margin${u[1]}`]),S=parseFloat(s[`border${u[0]}Width`]),k=parseFloat(s[`border${u[1]}Width`]);return{delay:n,duration:o,easing:e,css:g=>`overflow: hidden;opacity: ${Math.min(g*20,1)*r};${c}: ${g*t}px;padding-${a[0]}: ${g*m}px;padding-${a[1]}: ${g*L}px;margin-${a[0]}: ${g*j}px;margin-${a[1]}: ${g*C}px;border-${a[0]}-width: ${g*S}px;border-${a[1]}-width: ${g*k}px;`}}var ee={title:"",sentences:[]};async function Ve(){const i=window.location+"/booklist.json";return new Promise((n,o)=>{fetch(i).then(e=>{e.json().then(async l=>{await Ce(l[0]),n(ee)})})})}async function Ce(i){const n=window.location+"/books/"+i+".json";let e=await(await fetch(n)).json();ee.title=i,ee.sentences=e}function pe(i){let n,o=i[0].original+"",e,l,s;return{c(){n=w("div"),e=P(o),this.h()},l(r){n=y(r,"DIV",{class:!0});var c=b(n);e=V(c,o),c.forEach(_),this.h()},h(){f(n,"class","absolute mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(r,c){$(r,n,c),p(n,e),s=!0},p(r,c){(!s||c&1)&&o!==(o=r[0].original+"")&&z(e,o)},i(r){s||(ke(()=>{s&&(l||(l=ue(n,_e,{},!0)),l.run(1))}),s=!0)},o(r){l||(l=ue(n,_e,{},!1)),l.run(0),s=!1},d(r){r&&_(n),r&&l&&l.end()}}}function De(i){let n,o=i[0].translation+"",e,l,s,r,c,t=i[2]===i[1]&&pe(i);return{c(){n=w("button"),e=P(o),l=F(),t&&t.c(),this.h()},l(a){n=y(a,"BUTTON",{class:!0});var u=b(n);e=V(u,o),l=N(u),t&&t.l(u),u.forEach(_),this.h()},h(){f(n,"class","text-primary relative")},m(a,u){$(a,n,u),p(n,e),p(n,l),t&&t.m(n,null),s=!0,r||(c=O(n,"click",i[4]),r=!0)},p(a,[u]){(!s||u&1)&&o!==(o=a[0].translation+"")&&z(e,o),a[2]===a[1]?t?(t.p(a,u),u&6&&x(t,1)):(t=pe(a),t.c(),x(t,1),t.m(n,null)):t&&(J(),M(t,1,1,()=>{t=null}),K())},i(a){s||(x(t),s=!0)},o(a){M(t),s=!1},d(a){a&&_(n),t&&t.d(),r=!1,c()}}}function Le(i,n,o){let{data:e}=n,{index:l}=n,{openTooltipIndex:s}=n,{toggleTooltip:r}=n;const c=()=>r(l);return i.$$set=t=>{"data"in t&&o(0,e=t.data),"index"in t&&o(1,l=t.index),"openTooltipIndex"in t&&o(2,s=t.openTooltipIndex),"toggleTooltip"in t&&o(3,r=t.toggleTooltip)},[e,l,s,r,c]}class Se extends te{constructor(n){super(),ne(this,n,Le,De,le,{data:0,index:1,openTooltipIndex:2,toggleTooltip:3})}}var Ue=new Map([["number",[{original:"number",translation:"numéro",known:!1}]],["very much",[{original:"very much",translation:"beaucoup",known:!1}]],["expect",[{original:"expect",translation:"attendre",known:!1}]],["mysterious",[{original:"mysterious",translation:"mystérieux",known:!1}]],["director",[{original:"director",translation:"réalisateur",known:!1}]]]);function Oe(i){var n=[i];return Ue.forEach((o,e)=>{var l=[];n.forEach(s=>{if(typeof s=="string"&&s.includes(e)){var r=s.split(e);l.push(r[0]);var c=o[0].translation;l.push({translation:c,original:e}),l.push(r[1])}else l.push(s)}),n=l}),n}function he(i,n,o){const e=i.slice();return e[4]=n[o],e[6]=o,e}function ze(i){let n,o;return n=new Se({props:{data:i[4],index:i[6],openTooltipIndex:i[0],toggleTooltip:i[2]}}),{c(){we(n.$$.fragment)},l(e){ye(n.$$.fragment,e)},m(e,l){xe(n,e,l),o=!0},p(e,l){const s={};l&1&&(s.openTooltipIndex=e[0]),n.$set(s)},i(e){o||(x(n.$$.fragment,e),o=!0)},o(e){M(n.$$.fragment,e),o=!1},d(e){Te(n,e)}}}function We(i){let n=i[4]+"",o;return{c(){o=P(n)},l(e){o=V(e,n)},m(e,l){$(e,o,l)},p:Z,i:Z,o:Z,d(e){e&&_(o)}}}function me(i){let n,o,e,l;const s=[We,ze],r=[];function c(t,a){return typeof t[4]=="string"?0:1}return n=c(i),o=r[n]=s[n](i),{c(){o.c(),e=fe()},l(t){o.l(t),e=fe()},m(t,a){r[n].m(t,a),$(t,e,a),l=!0},p(t,a){o.p(t,a)},i(t){l||(x(o),l=!0)},o(t){M(o),l=!1},d(t){r[n].d(t),t&&_(e)}}}function qe(i){let n,o,e=i[1],l=[];for(let r=0;r<e.length;r+=1)l[r]=me(he(i,e,r));const s=r=>M(l[r],1,1,()=>{l[r]=null});return{c(){n=w("p");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){n=y(r,"P",{});var c=b(n);for(let t=0;t<l.length;t+=1)l[t].l(c);c.forEach(_)},m(r,c){$(r,n,c);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);o=!0},p(r,[c]){if(c&7){e=r[1];let t;for(t=0;t<e.length;t+=1){const a=he(r,e,t);l[t]?(l[t].p(a,c),x(l[t],1)):(l[t]=me(a),l[t].c(),x(l[t],1),l[t].m(n,null))}for(J(),t=e.length;t<l.length;t+=1)s(t);K()}},i(r){if(!o){for(let c=0;c<e.length;c+=1)x(l[c]);o=!0}},o(r){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)M(l[c]);o=!1},d(r){r&&_(n),$e(l,r)}}}function He(i,n,o){let{txt:e}=n;const l=Oe(e);let s=-1,r=c=>{o(0,s=s===c?-1:c)};return i.$$set=c=>{"txt"in c&&o(3,e=c.txt)},[s,l,r,e]}class Re extends te{constructor(n){super(),ne(this,n,He,qe,le,{txt:3})}}function ge(i,n,o){const e=i.slice();return e[9]=n[o],e}function ve(i){let n,o,e=[],l=new Map,s,r=i[2];const c=t=>t[0];for(let t=0;t<r.length;t+=1){let a=ge(i,r,t),u=c(a);l.set(u,e[t]=be(u,a))}return{c(){n=w("div"),o=w("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){n=y(t,"DIV",{class:!0});var a=b(n);o=y(a,"DIV",{class:!0});var u=b(o);for(let m=0;m<e.length;m+=1)e[m].l(u);u.forEach(_),a.forEach(_),this.h()},h(){f(o,"class","display text-center pb-20 p-10 text-3xl leading-loose"),f(n,"class","m-auto")},m(t,a){$(t,n,a),p(n,o);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,null);s=!0},p(t,a){a&5&&(r=t[2],J(),e=je(e,a,c,1,t,r,l,o,Fe,be,null,ge),K())},i(t){if(!s){for(let a=0;a<r.length;a+=1)x(e[a]);s=!0}},o(t){for(let a=0;a<e.length;a+=1)M(e[a]);s=!1},d(t){t&&_(n);for(let a=0;a<e.length;a+=1)e[a].d()}}}function be(i,n){let o,e,l,s,r;return e=new Re({props:{txt:n[2][0]}}),{key:i,first:null,c(){o=w("div"),we(e.$$.fragment),l=F(),this.h()},l(c){o=y(c,"DIV",{});var t=b(o);ye(e.$$.fragment,t),l=N(t),t.forEach(_),this.h()},h(){this.first=o},m(c,t){$(c,o,t),xe(e,o,null),p(o,l),r=!0},p(c,t){n=c;const a={};t&4&&(a.txt=n[2][0]),e.$set(a)},i(c){r||(x(e.$$.fragment,c),s||ke(()=>{s=Ae(o,Pe,{duration:1e3}),s.start()}),r=!0)},o(c){M(e.$$.fragment,c),r=!1},d(c){c&&_(o),Te(e)}}}function Ge(i){let n,o,e,l,s,r,c,t,a,u=i[0]+1+"",m,L,j=i[1].sentences.length+"",C,S,k,g,Q,D,U=i[1].title.replaceAll("_"," ")+"",W,X,B,T,A,q,E,Y,oe,h=i[0]!=-1&&ve(i);return{c(){n=w("div"),h&&h.c(),o=F(),e=w("div"),l=w("button"),s=R("svg"),r=R("path"),t=F(),a=w("span"),m=P(u),L=P("/"),C=P(j),S=F(),k=w("input"),Q=F(),D=w("span"),W=P(U),X=F(),B=w("button"),T=R("svg"),A=R("path"),this.h()},l(d){n=y(d,"DIV",{class:!0});var v=b(n);h&&h.l(v),v.forEach(_),o=N(d),e=y(d,"DIV",{class:!0});var I=b(e);l=y(I,"BUTTON",{});var re=b(l);s=G(re,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var se=b(s);r=G(se,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(r).forEach(_),se.forEach(_),re.forEach(_),t=N(I),a=y(I,"SPAN",{class:!0});var H=b(a);m=V(H,u),L=V(H,"/"),C=V(H,j),H.forEach(_),S=N(I),k=y(I,"INPUT",{type:!0,min:!0,max:!0,class:!0}),Q=N(I),D=y(I,"SPAN",{class:!0});var ae=b(D);W=V(ae,U),ae.forEach(_),X=N(I),B=y(I,"BUTTON",{});var ie=b(B);T=G(ie,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ce=b(T);A=G(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(A).forEach(_),ce.forEach(_),ie.forEach(_),I.forEach(_),this.h()},h(){f(n,"class","flex h-screen"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"fill","none"),f(s,"viewBox","0 0 24 24"),f(s,"stroke-width","1.5"),f(s,"stroke","currentColor"),f(s,"class","w-6 h-6"),l.disabled=c=i[0]<1,f(a,"class","text-xl"),f(k,"type","number"),f(k,"min","1"),f(k,"max",g=i[1].sentences.length),f(k,"class","page-input"),f(D,"class","text-xl"),f(A,"stroke-linecap","round"),f(A,"stroke-linejoin","round"),f(A,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),f(T,"xmlns","http://www.w3.org/2000/svg"),f(T,"fill","none"),f(T,"viewBox","0 0 24 24"),f(T,"stroke-width","1.5"),f(T,"stroke","currentColor"),f(T,"class","w-6 h-6"),B.disabled=q=i[0]>=i[1].sentences.length-1,f(e,"class","btm-nav")},m(d,v){$(d,n,v),h&&h.m(n,null),$(d,o,v),$(d,e,v),p(e,l),p(l,s),p(s,r),p(e,t),p(e,a),p(a,m),p(a,L),p(a,C),p(e,S),p(e,k),de(k,i[3]),p(e,Q),p(e,D),p(D,W),p(e,X),p(e,B),p(B,T),p(T,A),E=!0,Y||(oe=[O(l,"click",i[5]),O(k,"input",i[7]),O(k,"input",i[6]),O(B,"click",i[4])],Y=!0)},p(d,[v]){d[0]!=-1?h?(h.p(d,v),v&1&&x(h,1)):(h=ve(d),h.c(),x(h,1),h.m(n,null)):h&&(J(),M(h,1,1,()=>{h=null}),K()),(!E||v&1&&c!==(c=d[0]<1))&&(l.disabled=c),(!E||v&1)&&u!==(u=d[0]+1+"")&&z(m,u),(!E||v&2)&&j!==(j=d[1].sentences.length+"")&&z(C,j),(!E||v&2&&g!==(g=d[1].sentences.length))&&f(k,"max",g),v&8&&Ee(k.value)!==d[3]&&de(k,d[3]),(!E||v&2)&&U!==(U=d[1].title.replaceAll("_"," ")+"")&&z(W,U),(!E||v&3&&q!==(q=d[0]>=d[1].sentences.length-1))&&(B.disabled=q)},i(d){E||(x(h),E=!0)},o(d){M(h),E=!1},d(d){d&&_(n),h&&h.d(),d&&_(o),d&&_(e),Y=!1,Me(oe)}}}function Je(i,n,o){let e=-1;var l={title:"",sentences:[""]},s=[""];function r(){o(0,e=Math.min(l.sentences.length,e+1)),o(2,s=[l.sentences[e]])}function c(){o(0,e=Math.max(0,e-1)),o(2,s=[l.sentences[e]])}let t=1;function a(){t!=null&&(o(0,e=t-1),o(2,s=[l.sentences[e]]))}Be(()=>{window.addEventListener("keydown",m=>{m.key=="ArrowLeft"||m.key=="a"?c():(m.key=="ArrowRight"||m.key=="d"||m.key==" ")&&r()}),Ve().then(m=>{o(1,l=m),r()})});function u(){t=Ee(this.value),o(3,t)}return[e,l,s,t,r,c,a,u]}class Qe extends te{constructor(n){super(),ne(this,n,Je,Ge,le,{})}}export{Qe as component};
