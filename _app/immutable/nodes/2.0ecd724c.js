import{J as Ie,S as Z,i as ee,s as te,k,q as N,a as C,l as w,m as g,r as A,c as D,h as d,n as f,b as x,G as p,K as S,u as R,g as y,v as z,d as E,f as W,L as ke,M as ie,N as Me,e as ce,y as we,z as ye,A as Te,B as Ee,H as ue,O as J,P as K,Q as fe,R as xe,T as $e,o as je,U as Be,V as Ve,W as Ce}from"../chunks/index.77ced518.js";function De(r){const t=r-1;return t*t*t+1}function de(r,{delay:t=0,duration:l=400,easing:e=Ie}={}){const o=+getComputedStyle(r).opacity;return{delay:t,duration:l,easing:e,css:s=>`opacity: ${s*o}`}}function Le(r,{delay:t=0,duration:l=400,easing:e=De,axis:o="y"}={}){const s=getComputedStyle(r),a=+s.opacity,c=o==="y"?"height":"width",n=parseFloat(s[c]),i=o==="y"?["top","bottom"]:["left","right"],u=i.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),m=parseFloat(s[`padding${u[0]}`]),U=parseFloat(s[`padding${u[1]}`]),I=parseFloat(s[`margin${u[0]}`]),O=parseFloat(s[`margin${u[1]}`]),B=parseFloat(s[`border${u[0]}Width`]),L=parseFloat(s[`border${u[1]}Width`]);return{delay:t,duration:l,easing:e,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*a};${c}: ${b*n}px;padding-${i[0]}: ${b*m}px;padding-${i[1]}: ${b*U}px;margin-${i[0]}: ${b*I}px;margin-${i[1]}: ${b*O}px;border-${i[0]}-width: ${b*B}px;border-${i[1]}-width: ${b*L}px;`}}function _e(r){let t,l=r[0].original+"",e,o,s;return{c(){t=k("div"),e=N(l),this.h()},l(a){t=w(a,"DIV",{class:!0});var c=g(t);e=A(c,l),c.forEach(d),this.h()},h(){f(t,"class","absolute mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(a,c){x(a,t,c),p(t,e),s=!0},p(a,c){(!s||c&1)&&l!==(l=a[0].original+"")&&R(e,l)},i(a){s||(ke(()=>{s&&(o||(o=ie(t,de,{},!0)),o.run(1))}),s=!0)},o(a){o||(o=ie(t,de,{},!1)),o.run(0),s=!1},d(a){a&&d(t),a&&o&&o.end()}}}function Fe(r){let t,l=r[0].translation+"",e,o,s,a,c,n=r[2]===r[1]&&_e(r);return{c(){t=k("button"),e=N(l),o=C(),n&&n.c(),this.h()},l(i){t=w(i,"BUTTON",{class:!0});var u=g(t);e=A(u,l),o=D(u),n&&n.l(u),u.forEach(d),this.h()},h(){f(t,"class","text-primary relative")},m(i,u){x(i,t,u),p(t,e),p(t,o),n&&n.m(t,null),s=!0,a||(c=S(t,"click",r[3]),a=!0)},p(i,[u]){(!s||u&1)&&l!==(l=i[0].translation+"")&&R(e,l),i[2]===i[1]?n?(n.p(i,u),u&6&&y(n,1)):(n=_e(i),n.c(),y(n,1),n.m(t,null)):n&&(z(),E(n,1,1,()=>{n=null}),W())},i(i){s||(y(n),s=!0)},o(i){E(n),s=!1},d(i){i&&d(t),n&&n.d(),a=!1,c()}}}function Ne(r,t,l){let{data:e}=t,{index:o}=t,{openTooltipIndex:s}=t,{toggleTooltip:a}=t;function c(){a(o)}return r.$$set=n=>{"data"in n&&l(0,e=n.data),"index"in n&&l(1,o=n.index),"openTooltipIndex"in n&&l(2,s=n.openTooltipIndex),"toggleTooltip"in n&&l(4,a=n.toggleTooltip)},[e,o,s,c,a]}class Ae extends Z{constructor(t){super(),ee(this,t,Ne,Fe,te,{data:0,index:1,openTooltipIndex:2,toggleTooltip:4})}}function pe(r,t,l){const e=r.slice();return e[3]=t[l],e[5]=l,e}function Ue(r){let t,l;return t=new Ae({props:{data:r[3],index:r[5],openTooltipIndex:r[1],toggleTooltip:r[2]}}),{c(){we(t.$$.fragment)},l(e){ye(t.$$.fragment,e)},m(e,o){Te(t,e,o),l=!0},p(e,o){const s={};o&1&&(s.data=e[3]),o&2&&(s.openTooltipIndex=e[1]),t.$set(s)},i(e){l||(y(t.$$.fragment,e),l=!0)},o(e){E(t.$$.fragment,e),l=!1},d(e){Ee(t,e)}}}function Oe(r){let t=r[3]+"",l;return{c(){l=N(t)},l(e){l=A(e,t)},m(e,o){x(e,l,o)},p(e,o){o&1&&t!==(t=e[3]+"")&&R(l,t)},i:ue,o:ue,d(e){e&&d(l)}}}function he(r){let t,l,e,o;const s=[Oe,Ue],a=[];function c(n,i){return typeof n[3]=="string"?0:1}return t=c(r),l=a[t]=s[t](r),{c(){l.c(),e=ce()},l(n){l.l(n),e=ce()},m(n,i){a[t].m(n,i),x(n,e,i),o=!0},p(n,i){let u=t;t=c(n),t===u?a[t].p(n,i):(z(),E(a[u],1,1,()=>{a[u]=null}),W(),l=a[t],l?l.p(n,i):(l=a[t]=s[t](n),l.c()),y(l,1),l.m(e.parentNode,e))},i(n){o||(y(l),o=!0)},o(n){E(l),o=!1},d(n){a[t].d(n),n&&d(e)}}}function Pe(r){let t,l,e=r[0],o=[];for(let a=0;a<e.length;a+=1)o[a]=he(pe(r,e,a));const s=a=>E(o[a],1,1,()=>{o[a]=null});return{c(){t=k("p");for(let a=0;a<o.length;a+=1)o[a].c()},l(a){t=w(a,"P",{});var c=g(t);for(let n=0;n<o.length;n+=1)o[n].l(c);c.forEach(d)},m(a,c){x(a,t,c);for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,null);l=!0},p(a,[c]){if(c&7){e=a[0];let n;for(n=0;n<e.length;n+=1){const i=pe(a,e,n);o[n]?(o[n].p(i,c),y(o[n],1)):(o[n]=he(i),o[n].c(),y(o[n],1),o[n].m(t,null))}for(z(),n=e.length;n<o.length;n+=1)s(n);W()}},i(a){if(!l){for(let c=0;c<e.length;c+=1)y(o[c]);l=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)E(o[c]);l=!1},d(a){a&&d(t),Me(o,a)}}}function Se(r,t,l){let{data:e=[""]}=t,o=-1,s=a=>{l(1,o=o===a?-1:a)};return r.$$set=a=>{"data"in a&&l(0,e=a.data)},[e,o,s]}class Re extends Z{constructor(t){super(),ee(this,t,Se,Pe,te,{data:0})}}async function ze(r,t){const l=await Je();return await We(l,r,t),l}async function We(r,t,l){let e=await qe(t,l),o=new Map([]);for(let s=0;s<r.sentences.length;s++){let a=He(o,r.sentences[s],e);a&&o.set(a,e.get(a));for(let[c,n]of o){let i={translation:n,original:c};r.sentences[s]=Ge(r.sentences[s],i)}}return console.log(r),r}async function qe(r,t){let l=new Map([]),e=await ge(r),o=await ge(t);for(let s=0;s<e.length;s++)l.set(e[s].toLowerCase(),o[s].toLowerCase());return l}function He(r,t,l){for(let[e,o]of l)if(!r.has(e))for(let s of t){let a=new RegExp("\\b"+e+"\\b","i");if(typeof s=="string"&&s.match(a))return e}return null}function Ge(r,t){let l=[];for(let e of r){let o=new RegExp("\\b"+t.original+"\\b","gi");if(typeof e!="string"||!e.match(o)){l.push(e);continue}let s=e.split(o);for(let a of s)a!=""&&l.push(a),l.push(t);l.pop()}return l}async function Je(){const r=await Ke();return await Qe(r[0])}async function Ke(){return await(await fetch("./booklist.json")).json()}async function Qe(r){const t="./books/"+r+".json";let e=await(await fetch(t)).json();return{title:r,sentences:e.map(s=>[s])}}async function ge(r){const t=`./langs/${r}.json`;return await(await fetch(t)).json()}function me(r,t,l){const e=r.slice();return e[9]=t[l],e}function be(r){let t,l,e=[],o=new Map,s,a=r[2];const c=n=>n[1];for(let n=0;n<a.length;n+=1){let i=me(r,a,n),u=c(i);o.set(u,e[n]=ve(u,i))}return{c(){t=k("div"),l=k("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=w(n,"DIV",{class:!0});var i=g(t);l=w(i,"DIV",{class:!0});var u=g(l);for(let m=0;m<e.length;m+=1)e[m].l(u);u.forEach(d),i.forEach(d),this.h()},h(){f(l,"class","display text-center pb-20 p-10 text-3xl leading-loose"),f(t,"class","m-auto")},m(n,i){x(n,t,i),p(t,l);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,null);s=!0},p(n,i){i&6&&(a=n[2],z(),e=Be(e,i,c,1,n,a,o,l,Ce,ve,null,me),W())},i(n){if(!s){for(let i=0;i<a.length;i+=1)y(e[i]);s=!0}},o(n){for(let i=0;i<e.length;i+=1)E(e[i]);s=!1},d(n){n&&d(t);for(let i=0;i<e.length;i+=1)e[i].d()}}}function ve(r,t){let l,e,o,s,a;return e=new Re({props:{data:t[2][0]}}),{key:r,first:null,c(){l=k("div"),we(e.$$.fragment),o=C(),this.h()},l(c){l=w(c,"DIV",{});var n=g(l);ye(e.$$.fragment,n),o=D(n),n.forEach(d),this.h()},h(){this.first=l},m(c,n){x(c,l,n),Te(e,l,null),p(l,o),a=!0},p(c,n){t=c;const i={};n&4&&(i.data=t[2][0]),e.$set(i)},i(c){a||(y(e.$$.fragment,c),s||ke(()=>{s=Ve(l,Le,{duration:10}),s.start()}),a=!0)},o(c){E(e.$$.fragment,c),a=!1},d(c){c&&d(l),Ee(e)}}}function Xe(r){let t,l,e,o,s,a,c,n,i,u,m,U,I,O,B=r[0].sentences.length+"",L,b,F,P=r[0].title.replaceAll("_"," ")+"",q,Q,$,T,V,H,M,X,ne,h=r[1]!=-1&&be(r);return{c(){t=k("div"),h&&h.c(),l=C(),e=k("div"),o=k("button"),s=J("svg"),a=J("path"),n=C(),i=k("div"),u=k("input"),U=C(),I=k("div"),O=N("/"),L=N(B),b=C(),F=k("span"),q=N(P),Q=C(),$=k("button"),T=J("svg"),V=J("path"),this.h()},l(_){t=w(_,"DIV",{class:!0});var v=g(t);h&&h.l(v),v.forEach(d),l=D(_),e=w(_,"DIV",{class:!0});var j=g(e);o=w(j,"BUTTON",{});var le=g(o);s=K(le,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var oe=g(s);a=K(oe,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(a).forEach(d),oe.forEach(d),le.forEach(d),n=D(j),i=w(j,"DIV",{class:!0});var G=g(i);u=w(G,"INPUT",{type:!0,min:!0,max:!0,class:!0}),U=D(G),I=w(G,"DIV",{class:!0});var Y=g(I);O=A(Y,"/"),L=A(Y,B),Y.forEach(d),G.forEach(d),b=D(j),F=w(j,"SPAN",{class:!0});var ae=g(F);q=A(ae,P),ae.forEach(d),Q=D(j),$=w(j,"BUTTON",{});var se=g($);T=K(se,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var re=g(T);V=K(re,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(V).forEach(d),re.forEach(d),se.forEach(d),j.forEach(d),this.h()},h(){f(t,"class","flex h-screen"),f(a,"stroke-linecap","round"),f(a,"stroke-linejoin","round"),f(a,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),f(s,"xmlns","http://www.w3.org/2000/svg"),f(s,"fill","none"),f(s,"viewBox","0 0 24 24"),f(s,"stroke-width","1.5"),f(s,"stroke","currentColor"),f(s,"class","w-6 h-6"),o.disabled=c=r[1]<1,f(u,"type","number"),f(u,"min","1"),f(u,"max",m=r[0].sentences.length),f(u,"class","text-center"),f(I,"class","text-xl"),f(i,"class","columns-2"),f(F,"class","text text-center"),f(V,"stroke-linecap","round"),f(V,"stroke-linejoin","round"),f(V,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),f(T,"xmlns","http://www.w3.org/2000/svg"),f(T,"fill","none"),f(T,"viewBox","0 0 24 24"),f(T,"stroke-width","1.5"),f(T,"stroke","currentColor"),f(T,"class","w-6 h-6"),$.disabled=H=r[1]>=r[0].sentences.length-1,f(e,"class","btm-nav")},m(_,v){x(_,t,v),h&&h.m(t,null),x(_,l,v),x(_,e,v),p(e,o),p(o,s),p(s,a),p(e,n),p(e,i),p(i,u),fe(u,r[3]),p(i,U),p(i,I),p(I,O),p(I,L),p(e,b),p(e,F),p(F,q),p(e,Q),p(e,$),p($,T),p(T,V),M=!0,X||(ne=[S(o,"click",r[5]),S(u,"input",r[7]),S(u,"input",r[6]),S($,"click",r[4])],X=!0)},p(_,[v]){_[1]!=-1?h?(h.p(_,v),v&2&&y(h,1)):(h=be(_),h.c(),y(h,1),h.m(t,null)):h&&(z(),E(h,1,1,()=>{h=null}),W()),(!M||v&2&&c!==(c=_[1]<1))&&(o.disabled=c),(!M||v&1&&m!==(m=_[0].sentences.length))&&f(u,"max",m),v&8&&xe(u.value)!==_[3]&&fe(u,_[3]),(!M||v&1)&&B!==(B=_[0].sentences.length+"")&&R(L,B),(!M||v&1)&&P!==(P=_[0].title.replaceAll("_"," ")+"")&&R(q,P),(!M||v&3&&H!==(H=_[1]>=_[0].sentences.length-1))&&($.disabled=H)},i(_){M||(y(h),M=!0)},o(_){E(h),M=!1},d(_){_&&d(t),h&&h.d(),_&&d(l),_&&d(e),X=!1,$e(ne)}}}function Ye(r,t,l){let e={title:"",sentences:[]},o=-1,s=[[""]],a=1;function c(){l(1,o=Math.min(e.sentences.length,o+1)),l(2,s=[e.sentences[o]]),l(3,a=o+1)}function n(){l(1,o=Math.max(0,o-1)),l(2,s=[e.sentences[o]]),l(3,a=o+1)}function i(){a!=null&&(l(1,o=a-1),l(2,s=[e.sentences[o]]))}je(async()=>{window.addEventListener("keydown",m=>{m.key=="ArrowLeft"||m.key=="a"?n():(m.key=="ArrowRight"||m.key=="d"||m.key==" ")&&c()}),l(0,e=await ze("english","spanish")),c()});function u(){a=xe(this.value),l(3,a)}return[e,o,s,a,c,n,i,u]}class et extends Z{constructor(t){super(),ee(this,t,Ye,Xe,te,{})}}export{et as component};
