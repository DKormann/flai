import{J as Ie,S as te,i as ne,s as le,k as y,q as L,a as C,l as T,m as b,r as S,c as D,h as _,n as f,b as j,G as h,K as O,u as z,g as x,v as J,d as A,f as K,L as ke,M as ue,N as Me,e as fe,y as we,z as ye,A as Te,B as xe,H as Z,O as R,P as G,Q as de,R as Ee,T as Be,o as je,U as Ae,V as Fe,W as Ne,X as Pe}from"../chunks/index.e2645f4e.js";function Ve(a){const n=a-1;return n*n*n+1}function _e(a,{delay:n=0,duration:o=400,easing:e=Ie}={}){const l=+getComputedStyle(a).opacity;return{delay:n,duration:o,easing:e,css:i=>`opacity: ${i*l}`}}function Ce(a,{delay:n=0,duration:o=400,easing:e=Ve,axis:l="y"}={}){const i=getComputedStyle(a),r=+i.opacity,c=l==="y"?"height":"width",t=parseFloat(i[c]),s=l==="y"?["top","bottom"]:["left","right"],u=s.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),p=parseFloat(i[`padding${u[0]}`]),F=parseFloat(i[`padding${u[1]}`]),w=parseFloat(i[`margin${u[0]}`]),E=parseFloat(i[`margin${u[1]}`]),N=parseFloat(i[`border${u[0]}Width`]),k=parseFloat(i[`border${u[1]}Width`]);return{delay:n,duration:o,easing:e,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*r};${c}: ${m*t}px;padding-${s[0]}: ${m*p}px;padding-${s[1]}: ${m*F}px;margin-${s[0]}: ${m*w}px;margin-${s[1]}: ${m*E}px;border-${s[0]}-width: ${m*N}px;border-${s[1]}-width: ${m*k}px;`}}var ee={title:"",sentences:[]};async function De(){const a=window.location+"/booklist.json";return new Promise((n,o)=>{fetch(a).then(e=>{e.json().then(async l=>{await Le(l[0]),n(ee)})})})}async function Le(a){const n=window.location+"/books/"+a+".json";let e=await(await fetch(n)).json();ee.title=a,ee.sentences=e}function he(a){let n,o=a[0].original+"",e,l,i;return{c(){n=y("div"),e=L(o),this.h()},l(r){n=T(r,"DIV",{class:!0});var c=b(n);e=S(c,o),c.forEach(_),this.h()},h(){f(n,"class","absolute mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(r,c){j(r,n,c),h(n,e),i=!0},p(r,c){(!i||c&1)&&o!==(o=r[0].original+"")&&z(e,o)},i(r){i||(ke(()=>{i&&(l||(l=ue(n,_e,{},!0)),l.run(1))}),i=!0)},o(r){l||(l=ue(n,_e,{},!1)),l.run(0),i=!1},d(r){r&&_(n),r&&l&&l.end()}}}function Se(a){let n,o=a[0].translation+"",e,l,i,r,c,t=a[2]===a[1]&&he(a);return{c(){n=y("button"),e=L(o),l=C(),t&&t.c(),this.h()},l(s){n=T(s,"BUTTON",{class:!0});var u=b(n);e=S(u,o),l=D(u),t&&t.l(u),u.forEach(_),this.h()},h(){f(n,"class","text-primary relative")},m(s,u){j(s,n,u),h(n,e),h(n,l),t&&t.m(n,null),i=!0,r||(c=O(n,"click",a[4]),r=!0)},p(s,[u]){(!i||u&1)&&o!==(o=s[0].translation+"")&&z(e,o),s[2]===s[1]?t?(t.p(s,u),u&6&&x(t,1)):(t=he(s),t.c(),x(t,1),t.m(n,null)):t&&(J(),A(t,1,1,()=>{t=null}),K())},i(s){i||(x(t),i=!0)},o(s){A(t),i=!1},d(s){s&&_(n),t&&t.d(),r=!1,c()}}}function Ue(a,n,o){let{data:e}=n,{index:l}=n,{openTooltipIndex:i}=n,{toggleTooltip:r}=n;const c=()=>r(l);return a.$$set=t=>{"data"in t&&o(0,e=t.data),"index"in t&&o(1,l=t.index),"openTooltipIndex"in t&&o(2,i=t.openTooltipIndex),"toggleTooltip"in t&&o(3,r=t.toggleTooltip)},[e,l,i,r,c]}class $e extends te{constructor(n){super(),ne(this,n,Ue,Se,le,{data:0,index:1,openTooltipIndex:2,toggleTooltip:3})}}function pe(a,n,o){const e=a.slice();return e[6]=n[o],e[8]=o,e}function Oe(a){let n,o;return n=new $e({props:{data:a[6],index:a[8],openTooltipIndex:a[0],toggleTooltip:a[2]}}),{c(){we(n.$$.fragment)},l(e){ye(n.$$.fragment,e)},m(e,l){Te(n,e,l),o=!0},p(e,l){const i={};l&1&&(i.openTooltipIndex=e[0]),n.$set(i)},i(e){o||(x(n.$$.fragment,e),o=!0)},o(e){A(n.$$.fragment,e),o=!1},d(e){xe(n,e)}}}function ze(a){let n=a[6]+"",o;return{c(){o=L(n)},l(e){o=S(e,n)},m(e,l){j(e,o,l)},p:Z,i:Z,o:Z,d(e){e&&_(o)}}}function ge(a){let n,o,e,l;const i=[ze,Oe],r=[];function c(t,s){return typeof t[6]=="string"?0:1}return n=c(a),o=r[n]=i[n](a),{c(){o.c(),e=fe()},l(t){o.l(t),e=fe()},m(t,s){r[n].m(t,s),j(t,e,s),l=!0},p(t,s){o.p(t,s)},i(t){l||(x(o),l=!0)},o(t){A(o),l=!1},d(t){r[n].d(t),t&&_(e)}}}function We(a){let n,o,e=a[1],l=[];for(let r=0;r<e.length;r+=1)l[r]=ge(pe(a,e,r));const i=r=>A(l[r],1,1,()=>{l[r]=null});return{c(){n=y("p");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){n=T(r,"P",{});var c=b(n);for(let t=0;t<l.length;t+=1)l[t].l(c);c.forEach(_)},m(r,c){j(r,n,c);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);o=!0},p(r,[c]){if(c&7){e=r[1];let t;for(t=0;t<e.length;t+=1){const s=pe(r,e,t);l[t]?(l[t].p(s,c),x(l[t],1)):(l[t]=ge(s),l[t].c(),x(l[t],1),l[t].m(n,null))}for(J(),t=e.length;t<l.length;t+=1)i(t);K()}},i(r){if(!o){for(let c=0;c<e.length;c+=1)x(l[c]);o=!0}},o(r){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)A(l[c]);o=!1},d(r){r&&_(n),Me(l,r)}}}function qe(a,n,o){let{txt:e}=n,{translations:l}=n;function i(s){var u=[s];return l.forEach((p,F)=>{var w=[];u.forEach(E=>{if(typeof E=="string"&&E.includes(F)){var N=E.split(F);w.push(N[0]),w.push({translation:p,original:F}),w.push(N[1])}else w.push(E)}),u=w}),u}const r=i(e);let c=-1,t=s=>{o(0,c=c===s?-1:s)};return a.$$set=s=>{"txt"in s&&o(3,e=s.txt),"translations"in s&&o(4,l=s.translations)},[c,r,t,e,l]}class He extends te{constructor(n){super(),ne(this,n,qe,We,le,{txt:3,translations:4})}}const{Map:Re}=Ne;function me(a,n,o){const e=a.slice();return e[9]=n[o],e}function ve(a){let n,o,e=[],l=new Re,i,r=a[2];const c=t=>t[0];for(let t=0;t<r.length;t+=1){let s=me(a,r,t),u=c(s);l.set(u,e[t]=be(u,s))}return{c(){n=y("div"),o=y("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){n=T(t,"DIV",{class:!0});var s=b(n);o=T(s,"DIV",{class:!0});var u=b(o);for(let p=0;p<e.length;p+=1)e[p].l(u);u.forEach(_),s.forEach(_),this.h()},h(){f(o,"class","display text-center pb-20 p-10 text-3xl leading-loose"),f(n,"class","m-auto")},m(t,s){j(t,n,s),h(n,o);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,null);i=!0},p(t,s){s&5&&(r=t[2],J(),e=Ae(e,s,c,1,t,r,l,o,Pe,be,null,me),K())},i(t){if(!i){for(let s=0;s<r.length;s+=1)x(e[s]);i=!0}},o(t){for(let s=0;s<e.length;s+=1)A(e[s]);i=!1},d(t){t&&_(n);for(let s=0;s<e.length;s+=1)e[s].d()}}}function be(a,n){let o,e,l,i,r;return e=new He({props:{txt:n[2][0],translations:new Map([])}}),{key:a,first:null,c(){o=y("div"),we(e.$$.fragment),l=C(),this.h()},l(c){o=T(c,"DIV",{});var t=b(o);ye(e.$$.fragment,t),l=D(t),t.forEach(_),this.h()},h(){this.first=o},m(c,t){j(c,o,t),Te(e,o,null),h(o,l),r=!0},p(c,t){n=c;const s={};t&4&&(s.txt=n[2][0]),e.$set(s)},i(c){r||(x(e.$$.fragment,c),i||ke(()=>{i=Fe(o,Ce,{duration:1e3}),i.start()}),r=!0)},o(c){A(e.$$.fragment,c),r=!1},d(c){c&&_(o),xe(e)}}}function Ge(a){let n,o,e,l,i,r,c,t,s,u=a[0]+1+"",p,F,w=a[1].sentences.length+"",E,N,k,m,Q,U,$=a[1].title.replaceAll("_"," ")+"",W,X,P,I,V,q,M,Y,oe,g=a[0]!=-1&&ve(a);return{c(){n=y("div"),g&&g.c(),o=C(),e=y("div"),l=y("button"),i=R("svg"),r=R("path"),t=C(),s=y("span"),p=L(u),F=L("/"),E=L(w),N=C(),k=y("input"),Q=C(),U=y("span"),W=L($),X=C(),P=y("button"),I=R("svg"),V=R("path"),this.h()},l(d){n=T(d,"DIV",{class:!0});var v=b(n);g&&g.l(v),v.forEach(_),o=D(d),e=T(d,"DIV",{class:!0});var B=b(e);l=T(B,"BUTTON",{});var se=b(l);i=G(se,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var re=b(i);r=G(re,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(r).forEach(_),re.forEach(_),se.forEach(_),t=D(B),s=T(B,"SPAN",{class:!0});var H=b(s);p=S(H,u),F=S(H,"/"),E=S(H,w),H.forEach(_),N=D(B),k=T(B,"INPUT",{type:!0,min:!0,max:!0,class:!0}),Q=D(B),U=T(B,"SPAN",{class:!0});var ae=b(U);W=S(ae,$),ae.forEach(_),X=D(B),P=T(B,"BUTTON",{});var ie=b(P);I=G(ie,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ce=b(I);V=G(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(V).forEach(_),ce.forEach(_),ie.forEach(_),B.forEach(_),this.h()},h(){f(n,"class","flex h-screen"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"fill","none"),f(i,"viewBox","0 0 24 24"),f(i,"stroke-width","1.5"),f(i,"stroke","currentColor"),f(i,"class","w-6 h-6"),l.disabled=c=a[0]<1,f(s,"class","text-xl"),f(k,"type","number"),f(k,"min","1"),f(k,"max",m=a[1].sentences.length),f(k,"class","page-input"),f(U,"class","text-xl"),f(V,"stroke-linecap","round"),f(V,"stroke-linejoin","round"),f(V,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),f(I,"xmlns","http://www.w3.org/2000/svg"),f(I,"fill","none"),f(I,"viewBox","0 0 24 24"),f(I,"stroke-width","1.5"),f(I,"stroke","currentColor"),f(I,"class","w-6 h-6"),P.disabled=q=a[0]>=a[1].sentences.length-1,f(e,"class","btm-nav")},m(d,v){j(d,n,v),g&&g.m(n,null),j(d,o,v),j(d,e,v),h(e,l),h(l,i),h(i,r),h(e,t),h(e,s),h(s,p),h(s,F),h(s,E),h(e,N),h(e,k),de(k,a[3]),h(e,Q),h(e,U),h(U,W),h(e,X),h(e,P),h(P,I),h(I,V),M=!0,Y||(oe=[O(l,"click",a[5]),O(k,"input",a[7]),O(k,"input",a[6]),O(P,"click",a[4])],Y=!0)},p(d,[v]){d[0]!=-1?g?(g.p(d,v),v&1&&x(g,1)):(g=ve(d),g.c(),x(g,1),g.m(n,null)):g&&(J(),A(g,1,1,()=>{g=null}),K()),(!M||v&1&&c!==(c=d[0]<1))&&(l.disabled=c),(!M||v&1)&&u!==(u=d[0]+1+"")&&z(p,u),(!M||v&2)&&w!==(w=d[1].sentences.length+"")&&z(E,w),(!M||v&2&&m!==(m=d[1].sentences.length))&&f(k,"max",m),v&8&&Ee(k.value)!==d[3]&&de(k,d[3]),(!M||v&2)&&$!==($=d[1].title.replaceAll("_"," ")+"")&&z(W,$),(!M||v&3&&q!==(q=d[0]>=d[1].sentences.length-1))&&(P.disabled=q)},i(d){M||(x(g),M=!0)},o(d){A(g),M=!1},d(d){d&&_(n),g&&g.d(),d&&_(o),d&&_(e),Y=!1,Be(oe)}}}function Je(a,n,o){let e=-1;var l={title:"",sentences:[""]},i=[""];function r(){o(0,e=Math.min(l.sentences.length,e+1)),o(2,i=[l.sentences[e]])}function c(){o(0,e=Math.max(0,e-1)),o(2,i=[l.sentences[e]])}let t=1;function s(){t!=null&&(o(0,e=t-1),o(2,i=[l.sentences[e]]))}je(()=>{window.addEventListener("keydown",p=>{p.key=="ArrowLeft"||p.key=="a"?c():(p.key=="ArrowRight"||p.key=="d"||p.key==" ")&&r()}),De().then(p=>{o(1,l=p),r()})});function u(){t=Ee(this.value),o(3,t)}return[e,l,i,t,r,c,s,u]}class Qe extends te{constructor(n){super(),ne(this,n,Je,Ge,le,{})}}export{Qe as component};
