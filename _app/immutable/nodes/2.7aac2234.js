var Me=Object.defineProperty;var xe=(r,e,t)=>e in r?Me(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var be=(r,e,t)=>(xe(r,typeof e!="symbol"?e+"":e,t),t);import{S as F,i as Q,s as Y,k as T,l as E,m as v,h as f,n as _,b as w,G as m,J as A,H as q,q as B,a as M,r as D,c as x,K as ne,u as z,g as H,v as te,f as le,d as L,e as pe,y as oe,z as re,A as ae,B as ie,L as $,M as ee,N as ke,O as Pe,P as Se,Q as He,o as Ue}from"../chunks/index.4bca57d7.js";async function Ve(){const r="./index.json";return console.log("Fetching data from",r),await(await fetch(r)).json()}async function me(r,e,t){const o=`./books/${t}/${r}2${e}.json`,i=`./books/${t}/${e}2${r}.json`;var s=!1;let a;try{a=await(await fetch(o)).json()}catch{a=await(await fetch(i)).json(),s=!0}return{title:t,switched:s,data:a}}var K=new Map;{const r=localStorage.getItem("vocab_status");r&&(K=new Map(JSON.parse(r)))}class Je{constructor(e){be(this,"vocabs");this.data=e,this.data=e,this.vocabs=new Set(e.filter(t=>typeof t!="string"))}fail(e){K.has(JSON.stringify(e))||console.error("You failed a vocab you haven't seen yet",e)}finish(){this.vocabs.forEach(e=>{je(JSON.stringify(e),"known")})}}const Ae=20;function Le(r){var e=Math.floor(Math.random()*3);return r=r.map(t=>{if(typeof t=="string")return t;{const[o,i]=t;return K.get(JSON.stringify([o,i]))==="known"?[o,i]:e>0?(e-=1,i):(e=Ae,je(JSON.stringify([o,i]),"seen"),[o,i])}}),new Je(r)}function je(r,e){K.set(r,e),localStorage.setItem("vocab_status",JSON.stringify([...K]))}function We(){K.clear(),delete localStorage.vocab_status}const G={whats_native:{en:"What is your native language?",de:"Was ist deine Muttersprache?",ru:"Какой ваш родной язык?",tr:"Anadiliniz nedir?",nl:"Wat is je moedertaal?"},I_speak:{en:"I speak english.",de:"Ich spreche deutsch.",ru:"Я говорю по-русски.",tr:"Ben konuşuyorum türkçe.",nl:"Ik spreek nederlands."},whats_target:{en:"Which language do you want to learn?",de:"Welche Sprache möchtest du lernen?",ru:"Какой язык вы хотите выучить?",tr:"Hangi dili öğrenmek istiyorsunuz?",nl:"Welke taal wil je leren?"},lang:{en:{en:"English 🇬🇧",de:"German 🇩🇪",ru:"Russian 🇷🇺",tr:"Turkish 🇹🇷",nl:"Dutch 🇳🇱"},de:{en:"Englisch 🇬🇧 ",de:"Deutsch 🇩🇪",ru:"Russisch 🇷🇺",tr:"Türkisch 🇹🇷",nl:"Niederländisch 🇳🇱"},ru:{en:"Английский 🇬🇧 ",de:"Немецкий 🇩🇪",ru:"Русский 🇷🇺",tr:"Турецкий 🇹🇷",nl:"Голландский 🇳🇱"},tr:{en:"İngilizce 🇬🇧 ",de:"Almanca 🇩🇪",ru:"Rusça 🇷🇺",tr:"Türkçe 🇹🇷",nl:"Hollandaca 🇳🇱"},nl:{en:"Engels 🇬🇧 ",de:"Duits 🇩🇪",ru:"Russisch 🇷🇺",tr:"Turks 🇹🇷",nl:"Nederlands 🇳🇱"}},pick_book:{en:"Pick a book",de:"Wähle ein Buch",ru:"Выберите книгу",tr:"Bir kitap seçin",nl:"Kies een boek"},books:{harrypotter:{en:"Harry Potter",de:"Harry Potter",ru:"Гарри Поттер",tr:"Harry Potter",nl:"Harry Potter"},mobydick:{en:"mobydick",de:"Mobydick",ru:"Моби Дик",tr:"Mobydick",nl:"Mobydick"}}};function ve(r,e,t){const o=r.slice();return o[18]=e[t],o[16]=t,o}function ye(r,e,t){const o=r.slice();return o[14]=e[t],o[16]=t,o}function we(r,e,t){const o=r.slice();return o[14]=e[t],o[16]=t,o}function Ce(r){let e,t,o,i,s=r[4].books,a=[];for(let l=0;l<s.length;l+=1)a[l]=Te(ve(r,s,l));return{c(){e=T("h2"),t=B("Pick a book"),o=M(),i=T("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=E(l,"H2",{class:!0});var n=v(e);t=D(n,"Pick a book"),n.forEach(f),o=x(l),i=E(l,"DIV",{class:!0});var u=v(i);for(let c=0;c<a.length;c+=1)a[c].l(u);u.forEach(f),this.h()},h(){_(e,"class","text-3xl text-center text-gray-200 mb-6"),_(i,"class","flex justify-center")},m(l,n){w(l,e,n),m(e,t),w(l,o,n),w(l,i,n);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(i,null)},p(l,n){if(n&144){s=l[4].books;let u;for(u=0;u<s.length;u+=1){const c=ve(l,s,u);a[u]?a[u].p(c,n):(a[u]=Te(c),a[u].c(),a[u].m(i,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=s.length}},d(l){l&&f(e),l&&f(o),l&&f(i),ne(a,l)}}}function ze(r){let e,t=G.whats_target[r[2]]+"",o,i,s,a=r[3].targets,l=[];for(let n=0;n<a.length;n+=1)l[n]=Ee(ye(r,a,n));return{c(){e=T("h2"),o=B(t),i=M(),s=T("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=E(n,"H2",{class:!0});var u=v(e);o=D(u,t),u.forEach(f),i=x(n),s=E(n,"DIV",{class:!0});var c=v(s);for(let p=0;p<l.length;p+=1)l[p].l(c);c.forEach(f),this.h()},h(){_(e,"class","text-3xl text-center text-gray-200 mb-6"),_(s,"class","flex justify-center")},m(n,u){w(n,e,u),m(e,o),w(n,i,u),w(n,s,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(s,null)},p(n,u){if(u&4&&t!==(t=G.whats_target[n[2]]+"")&&z(o,t),u&76){a=n[3].targets;let c;for(c=0;c<a.length;c+=1){const p=ye(n,a,c);l[c]?l[c].p(p,u):(l[c]=Ee(p),l[c].c(),l[c].m(s,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}},d(n){n&&f(e),n&&f(i),n&&f(s),ne(l,n)}}}function Re(r){let e,t=G.whats_native.en+"",o,i,s,a,l,n,u,c,p,y,N,O,S=r[0],h=[];for(let g=0;g<S.length;g+=1)h[g]=Ie(we(r,S,g));return{c(){e=T("h2"),o=B(t),i=M(),s=T("div");for(let g=0;g<h.length;g+=1)h[g].c();a=M(),l=T("h2"),n=B("Delete all user data"),u=M(),c=T("div"),p=T("button"),y=B("Delete"),this.h()},l(g){e=E(g,"H2",{class:!0});var k=v(e);o=D(k,t),k.forEach(f),i=x(g),s=E(g,"DIV",{class:!0});var d=v(s);for(let P=0;P<h.length;P+=1)h[P].l(d);d.forEach(f),a=x(g),l=E(g,"H2",{class:!0});var b=v(l);n=D(b,"Delete all user data"),b.forEach(f),u=x(g),c=E(g,"DIV",{class:!0});var I=v(c);p=E(I,"BUTTON",{class:!0});var J=v(p);y=D(J,"Delete"),J.forEach(f),I.forEach(f),this.h()},h(){_(e,"class","text-3xl text-center text-gray-200 mb-6"),_(s,"class","justify-center"),_(l,"class","text-3xl text-center mt-4"),_(p,"class","px-4 py-2 bg-red-500 text-white rounded-md m-2"),_(c,"class","flex justify-center")},m(g,k){w(g,e,k),m(e,o),w(g,i,k),w(g,s,k);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(s,null);w(g,a,k),w(g,l,k),m(l,n),w(g,u,k),w(g,c,k),m(c,p),m(p,y),N||(O=A(p,"click",We),N=!0)},p(g,k){if(k&33){S=g[0];let d;for(d=0;d<S.length;d+=1){const b=we(g,S,d);h[d]?h[d].p(b,k):(h[d]=Ie(b),h[d].c(),h[d].m(s,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=S.length}},d(g){g&&f(e),g&&f(i),g&&f(s),ne(h,g),g&&f(a),g&&f(l),g&&f(u),g&&f(c),N=!1,O()}}}function Te(r){let e,t=r[18]+"",o,i,s;function a(){return r[11](r[16])}return{c(){e=T("button"),o=B(t),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var n=v(e);o=D(n,t),n.forEach(f),this.h()},h(){_(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-2")},m(l,n){w(l,e,n),m(e,o),i||(s=A(e,"click",a),i=!0)},p(l,n){r=l,n&16&&t!==(t=r[18]+"")&&z(o,t)},d(l){l&&f(e),i=!1,s()}}}function Ee(r){let e,t=G.lang[r[2]][r[14].language]+"",o,i,s;function a(){return r[10](r[16])}return{c(){e=T("button"),o=B(t),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var n=v(e);o=D(n,t),n.forEach(f),this.h()},h(){_(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-2")},m(l,n){w(l,e,n),m(e,o),i||(s=A(e,"click",a),i=!0)},p(l,n){r=l,n&12&&t!==(t=G.lang[r[2]][r[14].language]+"")&&z(o,t)},d(l){l&&f(e),i=!1,s()}}}function Ie(r){let e,t=G.I_speak[r[14].origin_language]+"",o,i,s;function a(){return r[9](r[16])}return{c(){e=T("button"),o=B(t),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var n=v(e);o=D(n,t),n.forEach(f),this.h()},h(){_(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-auto mt-2 block")},m(l,n){w(l,e,n),m(e,o),i||(s=A(e,"click",a),i=!0)},p(l,n){r=l,n&1&&t!==(t=G.I_speak[r[14].origin_language]+"")&&z(o,t)},d(l){l&&f(e),i=!1,s()}}}function Ge(r){let e,t,o,i;function s(n,u){return n[3]==null?Re:n[4]==null?ze:Ce}let a=s(r),l=a(r);return{c(){e=T("div"),t=T("div"),l.c(),this.h()},l(n){e=E(n,"DIV",{id:!0,class:!0});var u=v(e);t=E(u,"DIV",{id:!0,class:!0});var c=v(t);l.l(c),c.forEach(f),u.forEach(f),this.h()},h(){_(t,"id","book_picker"),_(t,"class","bg-gray-700 rounded-xl p-8"),_(e,"id","backdrop"),_(e,"class","fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50")},m(n,u){w(n,e,u),m(e,t),l.m(t,null),o||(i=A(e,"click",r[12]),o=!0)},p(n,[u]){a===(a=s(n))&&l?l.p(n,u):(l.d(1),l=a(n),l&&(l.c(),l.m(t,null)))},i:q,o:q,d(n){n&&f(e),l.d(),o=!1,i()}}}function qe(r,e,t){let{inventory:o}=e,{callback:i}=e,{abort:s}=e;var a,l=null,n=null;function u(h){t(2,a=o[h].origin_language),t(3,l=o[h])}function c(h){t(4,n=l.targets[h])}function p(h){const g=n.books[h];i(l.origin_language,n.language,g)}const y=h=>u(h),N=h=>c(h),O=h=>p(h),S=h=>{h.target==h.currentTarget&&s()};return r.$$set=h=>{"inventory"in h&&t(0,o=h.inventory),"callback"in h&&t(8,i=h.callback),"abort"in h&&t(1,s=h.abort)},[o,s,a,l,n,u,c,p,i,y,N,O,S]}class Ke extends F{constructor(e){super(),Q(this,e,qe,Ge,Y,{inventory:0,callback:8,abort:1})}}function Fe(r){let e=r[0].translation+"",t;return{c(){t=B(e)},l(o){t=D(o,e)},m(o,i){w(o,t,i)},p(o,i){i&1&&e!==(e=o[0].translation+"")&&z(t,e)},d(o){o&&f(t)}}}function Qe(r){let e,t=r[0].translation+"",o,i,s,a=r[0].original+"",l;return{c(){e=T("span"),o=B(t),i=M(),s=T("div"),l=B(a),this.h()},l(n){e=E(n,"SPAN",{class:!0});var u=v(e);o=D(u,t),u.forEach(f),i=x(n),s=E(n,"DIV",{class:!0});var c=v(s);l=D(c,a),c.forEach(f),this.h()},h(){_(e,"class","text-secondary"),_(s,"class","absolute text-white mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(n,u){w(n,e,u),m(e,o),w(n,i,u),w(n,s,u),m(s,l)},p(n,u){u&1&&t!==(t=n[0].translation+"")&&z(o,t),u&1&&a!==(a=n[0].original+"")&&z(l,a)},d(n){n&&f(e),n&&f(i),n&&f(s)}}}function Ye(r){let e,t,o;function i(l,n){return l[2]===l[1]?Qe:Fe}let s=i(r),a=s(r);return{c(){e=T("button"),a.c(),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var n=v(e);a.l(n),n.forEach(f),this.h()},h(){_(e,"class","text-primary relative")},m(l,n){w(l,e,n),a.m(e,null),t||(o=A(e,"click",r[3]),t=!0)},p(l,[n]){s===(s=i(l))&&a?a.p(l,n):(a.d(1),a=s(l),a&&(a.c(),a.m(e,null)))},i:q,o:q,d(l){l&&f(e),a.d(),t=!1,o()}}}function Xe(r,e,t){let{data:o}=e,{index:i}=e,{openTooltipIndex:s}=e,{toggleTooltip:a}=e,{fail:l}=e;function n(){a(i),l()}return r.$$set=u=>{"data"in u&&t(0,o=u.data),"index"in u&&t(1,i=u.index),"openTooltipIndex"in u&&t(2,s=u.openTooltipIndex),"toggleTooltip"in u&&t(4,a=u.toggleTooltip),"fail"in u&&t(5,l=u.fail)},[o,i,s,n,a,l]}class Ze extends F{constructor(e){super(),Q(this,e,Xe,Ye,Y,{data:0,index:1,openTooltipIndex:2,toggleTooltip:4,fail:5})}}function Ne(r,e,t){const o=r.slice();return o[4]=e[t],o[6]=t,o}function $e(r){let e,t;function o(){return r[3](r[4])}return e=new Ze({props:{data:{original:r[4][1],translation:r[4][0]},index:r[6],openTooltipIndex:r[1],toggleTooltip:r[2],fail:o}}),{c(){oe(e.$$.fragment)},l(i){re(e.$$.fragment,i)},m(i,s){ae(e,i,s),t=!0},p(i,s){r=i;const a={};s&1&&(a.data={original:r[4][1],translation:r[4][0]}),s&2&&(a.openTooltipIndex=r[1]),s&1&&(a.fail=o),e.$set(a)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){ie(e,i)}}}function et(r){let e=r[4]+"",t;return{c(){t=B(e)},l(o){t=D(o,e)},m(o,i){w(o,t,i)},p(o,i){i&1&&e!==(e=o[4]+"")&&z(t,e)},i:q,o:q,d(o){o&&f(t)}}}function Be(r){let e,t,o,i;const s=[et,$e],a=[];function l(n,u){return typeof n[4]=="string"?0:1}return e=l(r),t=a[e]=s[e](r),{c(){t.c(),o=pe()},l(n){t.l(n),o=pe()},m(n,u){a[e].m(n,u),w(n,o,u),i=!0},p(n,u){let c=e;e=l(n),e===c?a[e].p(n,u):(te(),L(a[c],1,1,()=>{a[c]=null}),le(),t=a[e],t?t.p(n,u):(t=a[e]=s[e](n),t.c()),H(t,1),t.m(o.parentNode,o))},i(n){i||(H(t),i=!0)},o(n){L(t),i=!1},d(n){a[e].d(n),n&&f(o)}}}function tt(r){let e,t,o=r[0].data,i=[];for(let a=0;a<o.length;a+=1)i[a]=Be(Ne(r,o,a));const s=a=>L(i[a],1,1,()=>{i[a]=null});return{c(){e=T("p");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=E(a,"P",{class:!0});var l=v(e);for(let n=0;n<i.length;n+=1)i[n].l(l);l.forEach(f),this.h()},h(){_(e,"class","m-auto display text-center pb-20 p-10 text-3xl leading-loose")},m(a,l){w(a,e,l);for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,null);t=!0},p(a,[l]){if(l&7){o=a[0].data;let n;for(n=0;n<o.length;n+=1){const u=Ne(a,o,n);i[n]?(i[n].p(u,l),H(i[n],1)):(i[n]=Be(u),i[n].c(),H(i[n],1),i[n].m(e,null))}for(te(),n=o.length;n<i.length;n+=1)s(n);le()}},i(a){if(!t){for(let l=0;l<o.length;l+=1)H(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)L(i[l]);t=!1},d(a){a&&f(e),ne(i,a)}}}function lt(r,e,t){let{challenge:o}=e,i=-1,s=l=>{t(1,i=i===l?-1:l)};const a=l=>o.fail([l[0],l[1]]);return r.$$set=l=>{"challenge"in l&&t(0,o=l.challenge)},[o,i,s,a]}class nt extends F{constructor(e){super(),Q(this,e,lt,tt,Y,{challenge:0})}}function ot(r){let e,t,o,i,s,a,l,n,u,c,p,y,N,O,S,h=r[1].data.length+"",g,k,d,b=r[1].title.replaceAll("_"," ")+"",I,J,P,U,C,X,R,se,ce;return t=new nt({props:{challenge:r[3]}}),{c(){e=T("div"),oe(t.$$.fragment),o=M(),i=T("div"),s=T("button"),a=$("svg"),l=$("path"),u=M(),c=T("div"),p=T("input"),N=M(),O=T("div"),S=B("/"),g=B(h),k=M(),d=T("button"),I=B(b),J=M(),P=T("button"),U=$("svg"),C=$("path"),this.h()},l(j){e=E(j,"DIV",{class:!0});var V=v(e);re(t.$$.fragment,V),V.forEach(f),o=x(j),i=E(j,"DIV",{class:!0});var W=v(i);s=E(W,"BUTTON",{});var fe=v(s);a=ee(fe,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var he=v(a);l=ee(he,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(l).forEach(f),he.forEach(f),fe.forEach(f),u=x(W),c=E(W,"DIV",{class:!0});var Z=v(c);p=E(Z,"INPUT",{type:!0,min:!0,max:!0,class:!0}),N=x(Z),O=E(Z,"DIV",{class:!0});var ue=v(O);S=D(ue,"/"),g=D(ue,h),ue.forEach(f),Z.forEach(f),k=x(W),d=E(W,"BUTTON",{class:!0});var _e=v(d);I=D(_e,b),_e.forEach(f),J=x(W),P=E(W,"BUTTON",{});var de=v(P);U=ee(de,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ge=v(U);C=ee(ge,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(C).forEach(f),ge.forEach(f),de.forEach(f),W.forEach(f),this.h()},h(){_(e,"class","flex h-screen"),_(l,"stroke-linecap","round"),_(l,"stroke-linejoin","round"),_(l,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),_(a,"xmlns","http://www.w3.org/2000/svg"),_(a,"fill","none"),_(a,"viewBox","0 0 24 24"),_(a,"stroke-width","1.5"),_(a,"stroke","currentColor"),_(a,"class","w-6 h-6"),s.disabled=n=r[0]<1,_(p,"type","number"),_(p,"min","1"),_(p,"max",y=r[1].data.length),_(p,"class","text-center"),_(O,"class","text-xl"),_(c,"class","columns-2"),_(d,"class","text text-center"),_(C,"stroke-linecap","round"),_(C,"stroke-linejoin","round"),_(C,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),_(U,"xmlns","http://www.w3.org/2000/svg"),_(U,"fill","none"),_(U,"viewBox","0 0 24 24"),_(U,"stroke-width","1.5"),_(U,"stroke","currentColor"),_(U,"class","w-6 h-6"),P.disabled=X=r[0]>=r[1].data.length-1,_(i,"class","btm-nav")},m(j,V){w(j,e,V),ae(t,e,null),w(j,o,V),w(j,i,V),m(i,s),m(s,a),m(a,l),m(i,u),m(i,c),m(c,p),ke(p,r[0]),m(c,N),m(c,O),m(O,S),m(O,g),m(i,k),m(i,d),m(d,I),m(i,J),m(i,P),m(P,U),m(U,C),R=!0,se||(ce=[A(s,"click",r[5]),A(p,"input",r[8]),A(p,"input",r[6]),A(d,"click",function(){Pe(r[2])&&r[2].apply(this,arguments)}),A(P,"click",r[4])],se=!0)},p(j,[V]){r=j;const W={};V&8&&(W.challenge=r[3]),t.$set(W),(!R||V&1&&n!==(n=r[0]<1))&&(s.disabled=n),(!R||V&2&&y!==(y=r[1].data.length))&&_(p,"max",y),V&1&&Se(p.value)!==r[0]&&ke(p,r[0]),(!R||V&2)&&h!==(h=r[1].data.length+"")&&z(g,h),(!R||V&2)&&b!==(b=r[1].title.replaceAll("_"," ")+"")&&z(I,b),(!R||V&3&&X!==(X=r[0]>=r[1].data.length-1))&&(P.disabled=X)},i(j){R||(H(t.$$.fragment,j),R=!0)},o(j){L(t.$$.fragment,j),R=!1},d(j){j&&f(e),ie(t),j&&f(o),j&&f(i),se=!1,He(ce)}}}function rt(r,e,t){let{book:o}=e,{change_book:i}=e,{index:s}=e,{set_page:a}=e,l;c();function n(){console.log("next index"),t(0,s=Math.min(o.data.length+1,s+1)),c()}function u(){t(0,s=Math.max(1,s-1)),c()}function c(){s==null||s==-1||(console.log("index:",s),l==null||l.finish(),t(3,l=Le(o.data[s-1][o.switched?1:0])),a(s))}window.addEventListener("keyup",y=>{y.key=="ArrowLeft"||y.key=="a"?u():["ArrowRight","d"," "].includes(y.key)&&n()});function p(){s=Se(this.value),t(0,s)}return r.$$set=y=>{"book"in y&&t(1,o=y.book),"change_book"in y&&t(2,i=y.change_book),"index"in y&&t(0,s=y.index),"set_page"in y&&t(7,a=y.set_page)},r.$$.update=()=>{r.$$.dirty&2&&console.log("book:",o.switched),r.$$.dirty&1&&s!=-1&&c()},[s,o,i,l,n,u,c,a,p]}class at extends F{constructor(e){super(),Q(this,e,rt,ot,Y,{book:1,change_book:2,index:0,set_page:7})}}function De(r){let e,t;return e=new at({props:{book:r[0],change_book:r[4],index:r[3].page,set_page:r[6]}}),{c(){oe(e.$$.fragment)},l(o){re(e.$$.fragment,o)},m(o,i){ae(e,o,i),t=!0},p(o,i){const s={};i&1&&(s.book=o[0]),i&8&&(s.index=o[3].page),e.$set(s)},i(o){t||(H(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){ie(e,o)}}}function Oe(r){let e,t;return e=new Ke({props:{inventory:r[1],callback:r[5],abort:r[7]}}),{c(){oe(e.$$.fragment)},l(o){re(e.$$.fragment,o)},m(o,i){ae(e,o,i),t=!0},p(o,i){const s={};i&2&&(s.inventory=o[1]),i&12&&(s.abort=o[7]),e.$set(s)},i(o){t||(H(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){ie(e,o)}}}function it(r){let e,t,o,i,s,a,l,n,u,c,p,y,N,O,S,h,g,k=r[0]!=null&&r[3].page!=null&&De(r),d=r[2]&&Oe(r);return{c(){e=T("button"),t=B("Preferences"),o=M(),k&&k.c(),i=M(),d&&d.c(),s=M(),a=T("dialog"),l=T("h2"),n=B("Dialog Box"),u=M(),c=T("p"),p=B("This is a sample dialog box."),y=M(),N=T("button"),O=B("Close"),this.h()},l(b){e=E(b,"BUTTON",{class:!0});var I=v(e);t=D(I,"Preferences"),I.forEach(f),o=x(b),k&&k.l(b),i=x(b),d&&d.l(b),s=x(b),a=E(b,"DIALOG",{id:!0});var J=v(a);l=E(J,"H2",{});var P=v(l);n=D(P,"Dialog Box"),P.forEach(f),u=x(J),c=E(J,"P",{});var U=v(c);p=D(U,"This is a sample dialog box."),U.forEach(f),y=x(J),N=E(J,"BUTTON",{});var C=v(N);O=D(C,"Close"),C.forEach(f),J.forEach(f),this.h()},h(){_(e,"class","m-2 bg-grey200 fixed hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"),_(a,"id","myDialog")},m(b,I){w(b,e,I),m(e,t),w(b,o,I),k&&k.m(b,I),w(b,i,I),d&&d.m(b,I),w(b,s,I),w(b,a,I),m(a,l),m(l,n),m(a,u),m(a,c),m(c,p),m(a,y),m(a,N),m(N,O),S=!0,h||(g=A(e,"click",r[4]),h=!0)},p(b,[I]){b[0]!=null&&b[3].page!=null?k?(k.p(b,I),I&9&&H(k,1)):(k=De(b),k.c(),H(k,1),k.m(i.parentNode,i)):k&&(te(),L(k,1,1,()=>{k=null}),le()),b[2]?d?(d.p(b,I),I&4&&H(d,1)):(d=Oe(b),d.c(),H(d,1),d.m(s.parentNode,s)):d&&(te(),L(d,1,1,()=>{d=null}),le())},i(b){S||(H(k),H(d),S=!0)},o(b){L(k),L(d),S=!1},d(b){b&&f(e),b&&f(o),k&&k.d(b),b&&f(i),d&&d.d(b),b&&f(s),b&&f(a),h=!1,g()}}}function st(r,e,t){let o=null,i,s=!1;Ue(async()=>{Ve().then(p=>{t(1,i=p);const y=localStorage.getItem("preferences");y!=null?(t(3,a=JSON.parse(y)),me(a.native_language,a.learning_language,a.title).then(N=>t(0,o=N))):t(2,s=!0)})});let a={native_language:"",learning_language:"",title:"",page:1};function l(){t(2,s=!0)}function n(p,y,N){t(2,s=!1),t(3,a={native_language:p,learning_language:y,title:N,page:1}),localStorage.setItem("preferences",JSON.stringify(a)),t(0,o=null),me(p,y,N).then(O=>t(0,o=O))}function u(p){t(3,a.page=p,a),localStorage.setItem("preferences",JSON.stringify(a))}return[o,i,s,a,l,n,u,()=>{t(2,s=a.title=="")}]}class ft extends F{constructor(e){super(),Q(this,e,st,it,Y,{})}}export{ft as component};
