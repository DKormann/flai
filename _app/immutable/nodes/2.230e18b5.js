var Fe=Object.defineProperty;var Qe=(n,e,t)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ne=(n,e,t)=>(Qe(n,typeof e!="symbol"?e+"":e,t),t);import{S as ue,i as ce,s as fe,k as E,l as I,m as N,h,n as m,b as T,G as w,J,H as Q,q as M,a as D,r as P,c as S,K as le,u as C,L as ie,M as se,N as Oe,O as Ye,v as X,d as H,f as Z,g as j,P as ze,Q as Xe,e as ae,y as _e,z as he,A as de,B as be,o as Ze}from"../chunks/index.4bca57d7.js";async function xe(){const n="./index.json";return console.log("Fetching data from",n),await(await fetch(n)).json()}async function De(n,e,t){const l=`./books/${t}/${n}2${e}.json`,r=`./books/${t}/${e}2${n}.json`;var s=!1;let a;try{a=await(await fetch(l)).json()}catch{a=await(await fetch(r)).json(),s=!0}return{title:t,switched:s,data:a}}var ee=new Map;{const n=localStorage.getItem("vocab_status");n&&(ee=new Map(JSON.parse(n)))}class Ge{constructor(e){Ne(this,"vocabs");this.data=e,this.data=e,this.vocabs=new Set(e.filter(t=>typeof t!="string").map(t=>[t[0],t[1]]))}fail(e){ee.has(JSON.stringify(e))||console.error("You failed a vocab you haven't seen yet",e)}finish(){this.vocabs.forEach(e=>{qe(JSON.stringify(e),"known")})}}const $e=20;function et(n){var e=Math.floor(Math.random()*3);const t=n.map(l=>{if(typeof l=="string")return l;{const[r,s]=l;return ee.get(JSON.stringify([r,s]))==="known"?[r,s,!0]:e>0?(e-=1,[s,r,!1]):(e=$e,qe(JSON.stringify([r,s]),"seen"),[r,s,!0])}});return new Ge(t)}function Se(n){const e=n.map(t=>{if(typeof t=="string")return t;{const[l,r]=t;return[l,r,!0]}});return new Ge(e)}function qe(n,e){ee.set(n,e),localStorage.setItem("vocab_status",JSON.stringify([...ee]))}function tt(){ee.clear(),delete localStorage.vocab_status}const x={whats_native:{en:"What is your native language?",de:"Was ist deine Muttersprache?",ru:"Какой ваш родной язык?",tr:"Anadiliniz nedir?",nl:"Wat is je moedertaal?"},I_speak:{en:"I speak english.",de:"Ich spreche deutsch.",ru:"Я говорю по-русски.",tr:"Ben konuşuyorum türkçe.",nl:"Ik spreek nederlands."},whats_target:{en:"Which language do you want to learn?",de:"Welche Sprache möchtest du lernen?",ru:"Какой язык вы хотите выучить?",tr:"Hangi dili öğrenmek istiyorsunuz?",nl:"Welke taal wil je leren?"},lang:{en:{en:"English 🇬🇧",de:"German 🇩🇪",ru:"Russian 🇷🇺",tr:"Turkish 🇹🇷",nl:"Dutch 🇳🇱"},de:{en:"Englisch 🇬🇧 ",de:"Deutsch 🇩🇪",ru:"Russisch 🇷🇺",tr:"Türkisch 🇹🇷",nl:"Niederländisch 🇳🇱"},ru:{en:"Английский 🇬🇧 ",de:"Немецкий 🇩🇪",ru:"Русский 🇷🇺",tr:"Турецкий 🇹🇷",nl:"Голландский 🇳🇱"},tr:{en:"İngilizce 🇬🇧 ",de:"Almanca 🇩🇪",ru:"Rusça 🇷🇺",tr:"Türkçe 🇹🇷",nl:"Hollandaca 🇳🇱"},nl:{en:"Engels 🇬🇧 ",de:"Duits 🇩🇪",ru:"Russisch 🇷🇺",tr:"Turks 🇹🇷",nl:"Nederlands 🇳🇱"}},pick_book:{en:"Pick a book",de:"Wähle ein Buch",ru:"Выберите книгу",tr:"Bir kitap seçin",nl:"Kies een boek"},books:{harrypotter:{en:"Harry Potter",de:"Harry Potter",ru:"Гарри Поттер",tr:"Harry Potter",nl:"Harry Potter"},mobydick:{en:"mobydick",de:"Mobydick",ru:"Моби Дик",tr:"Mobydick",nl:"Mobydick"}}};function je(n,e,t){const l=n.slice();return l[18]=e[t],l[16]=t,l}function Me(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function Pe(n,e,t){const l=n.slice();return l[14]=e[t],l[16]=t,l}function lt(n){let e,t,l,r,s=n[4].books,a=[];for(let i=0;i<s.length;i+=1)a[i]=He(je(n,s,i));return{c(){e=E("h2"),t=M("Pick a book"),l=D(),r=E("div");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=I(i,"H2",{class:!0});var o=N(e);t=P(o,"Pick a book"),o.forEach(h),l=S(i),r=I(i,"DIV",{class:!0});var u=N(r);for(let f=0;f<a.length;f+=1)a[f].l(u);u.forEach(h),this.h()},h(){m(e,"class","text-3xl text-center text-gray-200 mb-6"),m(r,"class","flex justify-center")},m(i,o){T(i,e,o),w(e,t),T(i,l,o),T(i,r,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,null)},p(i,o){if(o&144){s=i[4].books;let u;for(u=0;u<s.length;u+=1){const f=je(i,s,u);a[u]?a[u].p(f,o):(a[u]=He(f),a[u].c(),a[u].m(r,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=s.length}},d(i){i&&h(e),i&&h(l),i&&h(r),le(a,i)}}}function nt(n){let e,t=x.whats_target[n[2]]+"",l,r,s,a=n[3].targets,i=[];for(let o=0;o<a.length;o+=1)i[o]=Ue(Me(n,a,o));return{c(){e=E("h2"),l=M(t),r=D(),s=E("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=I(o,"H2",{class:!0});var u=N(e);l=P(u,t),u.forEach(h),r=S(o),s=I(o,"DIV",{class:!0});var f=N(s);for(let _=0;_<i.length;_+=1)i[_].l(f);f.forEach(h),this.h()},h(){m(e,"class","text-3xl text-center text-gray-200 mb-6"),m(s,"class","flex justify-center")},m(o,u){T(o,e,u),w(e,l),T(o,r,u),T(o,s,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(s,null)},p(o,u){if(u&4&&t!==(t=x.whats_target[o[2]]+"")&&C(l,t),u&76){a=o[3].targets;let f;for(f=0;f<a.length;f+=1){const _=Me(o,a,f);i[f]?i[f].p(_,u):(i[f]=Ue(_),i[f].c(),i[f].m(s,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=a.length}},d(o){o&&h(e),o&&h(r),o&&h(s),le(i,o)}}}function ot(n){let e,t=x.whats_native.en+"",l,r,s,a,i,o,u,f,_,B,c,p,d=n[0],b=[];for(let k=0;k<d.length;k+=1)b[k]=Re(Pe(n,d,k));return{c(){e=E("h2"),l=M(t),r=D(),s=E("div");for(let k=0;k<b.length;k+=1)b[k].c();a=D(),i=E("h2"),o=M("Delete all user data"),u=D(),f=E("div"),_=E("button"),B=M("Delete"),this.h()},l(k){e=I(k,"H2",{class:!0});var g=N(e);l=P(g,t),g.forEach(h),r=S(k),s=I(k,"DIV",{class:!0});var y=N(s);for(let A=0;A<b.length;A+=1)b[A].l(y);y.forEach(h),a=S(k),i=I(k,"H2",{class:!0});var v=N(i);o=P(v,"Delete all user data"),v.forEach(h),u=S(k),f=I(k,"DIV",{class:!0});var O=N(f);_=I(O,"BUTTON",{class:!0});var V=N(_);B=P(V,"Delete"),V.forEach(h),O.forEach(h),this.h()},h(){m(e,"class","text-3xl text-center text-gray-200 mb-6"),m(s,"class","justify-center"),m(i,"class","text-3xl text-center mt-4"),m(_,"class","px-4 py-2 bg-red-500 text-white rounded-md m-2"),m(f,"class","flex justify-center")},m(k,g){T(k,e,g),w(e,l),T(k,r,g),T(k,s,g);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(s,null);T(k,a,g),T(k,i,g),w(i,o),T(k,u,g),T(k,f,g),w(f,_),w(_,B),c||(p=J(_,"click",tt),c=!0)},p(k,g){if(g&33){d=k[0];let y;for(y=0;y<d.length;y+=1){const v=Pe(k,d,y);b[y]?b[y].p(v,g):(b[y]=Re(v),b[y].c(),b[y].m(s,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=d.length}},d(k){k&&h(e),k&&h(r),k&&h(s),le(b,k),k&&h(a),k&&h(i),k&&h(u),k&&h(f),c=!1,p()}}}function He(n){let e,t=n[18]+"",l,r,s;function a(){return n[11](n[16])}return{c(){e=E("button"),l=M(t),this.h()},l(i){e=I(i,"BUTTON",{class:!0});var o=N(e);l=P(o,t),o.forEach(h),this.h()},h(){m(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-2")},m(i,o){T(i,e,o),w(e,l),r||(s=J(e,"click",a),r=!0)},p(i,o){n=i,o&16&&t!==(t=n[18]+"")&&C(l,t)},d(i){i&&h(e),r=!1,s()}}}function Ue(n){let e,t=x.lang[n[2]][n[14].language]+"",l,r,s;function a(){return n[10](n[16])}return{c(){e=E("button"),l=M(t),this.h()},l(i){e=I(i,"BUTTON",{class:!0});var o=N(e);l=P(o,t),o.forEach(h),this.h()},h(){m(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-2")},m(i,o){T(i,e,o),w(e,l),r||(s=J(e,"click",a),r=!0)},p(i,o){n=i,o&12&&t!==(t=x.lang[n[2]][n[14].language]+"")&&C(l,t)},d(i){i&&h(e),r=!1,s()}}}function Re(n){let e,t=x.I_speak[n[14].origin_language]+"",l,r,s;function a(){return n[9](n[16])}return{c(){e=E("button"),l=M(t),this.h()},l(i){e=I(i,"BUTTON",{class:!0});var o=N(e);l=P(o,t),o.forEach(h),this.h()},h(){m(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-auto mt-2 block")},m(i,o){T(i,e,o),w(e,l),r||(s=J(e,"click",a),r=!0)},p(i,o){n=i,o&1&&t!==(t=x.I_speak[n[14].origin_language]+"")&&C(l,t)},d(i){i&&h(e),r=!1,s()}}}function rt(n){let e,t,l,r;function s(o,u){return o[3]==null?ot:o[4]==null?nt:lt}let a=s(n),i=a(n);return{c(){e=E("div"),t=E("div"),i.c(),this.h()},l(o){e=I(o,"DIV",{id:!0,class:!0});var u=N(e);t=I(u,"DIV",{id:!0,class:!0});var f=N(t);i.l(f),f.forEach(h),u.forEach(h),this.h()},h(){m(t,"id","book_picker"),m(t,"class","bg-gray-700 rounded-xl p-8"),m(e,"id","backdrop"),m(e,"class","fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50")},m(o,u){T(o,e,u),w(e,t),i.m(t,null),l||(r=J(e,"click",n[12]),l=!0)},p(o,[u]){a===(a=s(o))&&i?i.p(o,u):(i.d(1),i=a(o),i&&(i.c(),i.m(t,null)))},i:Q,o:Q,d(o){o&&h(e),i.d(),l=!1,r()}}}function it(n,e,t){let{inventory:l}=e,{callback:r}=e,{abort:s}=e;var a,i=null,o=null;function u(b){t(2,a=l[b].origin_language),t(3,i=l[b])}function f(b){t(4,o=i.targets[b])}function _(b){const k=o.books[b];r(i.origin_language,o.language,k)}const B=b=>u(b),c=b=>f(b),p=b=>_(b),d=b=>{b.target==b.currentTarget&&s()};return n.$$set=b=>{"inventory"in b&&t(0,l=b.inventory),"callback"in b&&t(8,r=b.callback),"abort"in b&&t(1,s=b.abort)},[l,s,a,i,o,u,f,_,r,B,c,p,d]}class st extends ue{constructor(e){super(),ce(this,e,it,rt,fe,{inventory:0,callback:8,abort:1})}}function at(n){let e=n[0].translation+"",t;return{c(){t=M(e)},l(l){t=P(l,e)},m(l,r){T(l,t,r)},p(l,r){r&1&&e!==(e=l[0].translation+"")&&C(t,e)},d(l){l&&h(t)}}}function ut(n){let e,t=n[0].translation+"",l,r,s,a=n[0].original+"",i;return{c(){e=E("span"),l=M(t),r=D(),s=E("div"),i=M(a),this.h()},l(o){e=I(o,"SPAN",{class:!0});var u=N(e);l=P(u,t),u.forEach(h),r=S(o),s=I(o,"DIV",{class:!0});var f=N(s);i=P(f,a),f.forEach(h),this.h()},h(){m(e,"class","text-secondary"),m(s,"class","absolute text-white mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(o,u){T(o,e,u),w(e,l),T(o,r,u),T(o,s,u),w(s,i)},p(o,u){u&1&&t!==(t=o[0].translation+"")&&C(l,t),u&1&&a!==(a=o[0].original+"")&&C(i,a)},d(o){o&&h(e),o&&h(r),o&&h(s)}}}function ct(n){let e,t,l,r;function s(o,u){return o[2]===o[1]?ut:at}let a=s(n),i=a(n);return{c(){e=E("button"),i.c(),this.h()},l(o){e=I(o,"BUTTON",{class:!0});var u=N(e);i.l(u),u.forEach(h),this.h()},h(){m(e,"class",t=n[0].active?"text-primary":"text-current italic relative")},m(o,u){T(o,e,u),i.m(e,null),l||(r=J(e,"click",n[3]),l=!0)},p(o,[u]){a===(a=s(o))&&i?i.p(o,u):(i.d(1),i=a(o),i&&(i.c(),i.m(e,null))),u&1&&t!==(t=o[0].active?"text-primary":"text-current italic relative")&&m(e,"class",t)},i:Q,o:Q,d(o){o&&h(e),i.d(),l=!1,r()}}}function ft(n,e,t){let{data:l}=e,{index:r}=e,{openTooltipIndex:s}=e,{toggleTooltip:a}=e,{fail:i}=e;function o(){a(r),i()}return n.$$set=u=>{"data"in u&&t(0,l=u.data),"index"in u&&t(1,r=u.index),"openTooltipIndex"in u&&t(2,s=u.openTooltipIndex),"toggleTooltip"in u&&t(4,a=u.toggleTooltip),"fail"in u&&t(5,i=u.fail)},[l,r,s,o,a,i]}class Ke extends ue{constructor(e){super(),ce(this,e,ft,ct,fe,{data:0,index:1,openTooltipIndex:2,toggleTooltip:4,fail:5})}}function Ve(n,e,t){const l=n.slice();return l[15]=e[t],l[0]=t,l}function Je(n,e,t){const l=n.slice();return l[15]=e[t],l[0]=t,l}function _t(n){let e,t,l,r,s,a,i,o,u,f=Se(n[1].data[n[0]-1][n[1].switched?0:1]).data,_=[];for(let c=0;c<f.length;c+=1)_[c]=Ae(Ve(n,f,c));const B=c=>H(_[c],1,1,()=>{_[c]=null});return{c(){for(let c=0;c<_.length;c+=1)_[c].c();e=D(),t=E("br"),l=E("br"),r=D(),s=E("button"),a=M("switch back"),this.h()},l(c){for(let d=0;d<_.length;d+=1)_[d].l(c);e=S(c),t=I(c,"BR",{}),l=I(c,"BR",{}),r=S(c),s=I(c,"BUTTON",{class:!0});var p=N(s);a=P(p,"switch back"),p.forEach(h),this.h()},h(){m(s,"class","text-primary font-semibold rounded px-4 py-0")},m(c,p){for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(c,p);T(c,e,p),T(c,t,p),T(c,l,p),T(c,r,p),T(c,s,p),w(s,a),i=!0,o||(u=J(s,"click",n[10]),o=!0)},p(c,p){if(p&283){f=Se(c[1].data[c[0]-1][c[1].switched?0:1]).data;let d;for(d=0;d<f.length;d+=1){const b=Ve(c,f,d);_[d]?(_[d].p(b,p),j(_[d],1)):(_[d]=Ae(b),_[d].c(),j(_[d],1),_[d].m(e.parentNode,e))}for(X(),d=f.length;d<_.length;d+=1)B(d);Z()}},i(c){if(!i){for(let p=0;p<f.length;p+=1)j(_[p]);i=!0}},o(c){_=_.filter(Boolean);for(let p=0;p<_.length;p+=1)H(_[p]);i=!1},d(c){le(_,c),c&&h(e),c&&h(t),c&&h(l),c&&h(r),c&&h(s),o=!1,u()}}}function ht(n){let e,t,l,r,s,a,i,o,u,f=n[3].data,_=[];for(let c=0;c<f.length;c+=1)_[c]=We(Je(n,f,c));const B=c=>H(_[c],1,1,()=>{_[c]=null});return{c(){for(let c=0;c<_.length;c+=1)_[c].c();e=D(),t=E("br"),l=E("br"),r=D(),s=E("button"),a=M("translate all"),this.h()},l(c){for(let d=0;d<_.length;d+=1)_[d].l(c);e=S(c),t=I(c,"BR",{}),l=I(c,"BR",{}),r=S(c),s=I(c,"BUTTON",{class:!0});var p=N(s);a=P(p,"translate all"),p.forEach(h),this.h()},h(){m(s,"class","text-primary font-semibold rounded px-4 py-0")},m(c,p){for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(c,p);T(c,e,p),T(c,t,p),T(c,l,p),T(c,r,p),T(c,s,p),w(s,a),i=!0,o||(u=J(s,"click",n[10]),o=!0)},p(c,p){if(p&280){f=c[3].data;let d;for(d=0;d<f.length;d+=1){const b=Je(c,f,d);_[d]?(_[d].p(b,p),j(_[d],1)):(_[d]=We(b),_[d].c(),j(_[d],1),_[d].m(e.parentNode,e))}for(X(),d=f.length;d<_.length;d+=1)B(d);Z()}},i(c){if(!i){for(let p=0;p<f.length;p+=1)j(_[p]);i=!0}},o(c){_=_.filter(Boolean);for(let p=0;p<_.length;p+=1)H(_[p]);i=!1},d(c){le(_,c),c&&h(e),c&&h(t),c&&h(l),c&&h(r),c&&h(s),o=!1,u()}}}function dt(n){let e,t;function l(){return n[13](n[15])}return e=new Ke({props:{data:{original:n[15][0],translation:n[15][1],active:n[15][2]},index:n[0],openTooltipIndex:n[4],toggleTooltip:n[8],fail:l}}),{c(){_e(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,s){de(e,r,s),t=!0},p(r,s){n=r;const a={};s&3&&(a.data={original:n[15][0],translation:n[15][1],active:n[15][2]}),s&16&&(a.openTooltipIndex=n[4]),s&11&&(a.fail=l),e.$set(a)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){be(e,r)}}}function bt(n){let e=n[15]+"",t;return{c(){t=M(e)},l(l){t=P(l,e)},m(l,r){T(l,t,r)},p(l,r){r&3&&e!==(e=l[15]+"")&&C(t,e)},i:Q,o:Q,d(l){l&&h(t)}}}function Ae(n){let e,t,l,r;const s=[bt,dt],a=[];function i(o,u){return typeof o[15]=="string"?0:1}return e=i(n),t=a[e]=s[e](n),{c(){t.c(),l=ae()},l(o){t.l(o),l=ae()},m(o,u){a[e].m(o,u),T(o,l,u),r=!0},p(o,u){let f=e;e=i(o),e===f?a[e].p(o,u):(X(),H(a[f],1,1,()=>{a[f]=null}),Z(),t=a[e],t?t.p(o,u):(t=a[e]=s[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){a[e].d(o),o&&h(l)}}}function gt(n){let e,t;function l(){return n[12](n[15])}return e=new Ke({props:{data:{original:n[15][1],translation:n[15][0],active:n[15][2]},index:n[0],openTooltipIndex:n[4],toggleTooltip:n[8],fail:l}}),{c(){_e(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,s){de(e,r,s),t=!0},p(r,s){n=r;const a={};s&8&&(a.data={original:n[15][1],translation:n[15][0],active:n[15][2]}),s&16&&(a.openTooltipIndex=n[4]),s&8&&(a.fail=l),e.$set(a)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){H(e.$$.fragment,r),t=!1},d(r){be(e,r)}}}function pt(n){let e=n[15]+"",t;return{c(){t=M(e)},l(l){t=P(l,e)},m(l,r){T(l,t,r)},p(l,r){r&8&&e!==(e=l[15]+"")&&C(t,e)},i:Q,o:Q,d(l){l&&h(t)}}}function We(n){let e,t,l,r;const s=[pt,gt],a=[];function i(o,u){return typeof o[15]=="string"?0:1}return e=i(n),t=a[e]=s[e](n),{c(){t.c(),l=ae()},l(o){t.l(o),l=ae()},m(o,u){a[e].m(o,u),T(o,l,u),r=!0},p(o,u){let f=e;e=i(o),e===f?a[e].p(o,u):(X(),H(a[f],1,1,()=>{a[f]=null}),Z(),t=a[e],t?t.p(o,u):(t=a[e]=s[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){r||(j(t),r=!0)},o(o){H(t),r=!1},d(o){a[e].d(o),o&&h(l)}}}function kt(n){let e,t,l,r,s,a,i,o,u,f,_,B,c,p,d,b,k,g,y,v,O,V=n[1].data.length+"",A,$,L,te=n[1].title.replaceAll("_"," ")+"",ne,ge,q,W,Y,oe,G,pe,me;const ve=[ht,_t],K=[];function ye(U,R){return U[5]?1:0}return l=ye(n),r=K[l]=ve[l](n),{c(){e=E("div"),t=E("p"),r.c(),s=D(),a=E("br"),i=D(),o=E("br"),u=D(),f=E("div"),_=E("button"),B=ie("svg"),c=ie("path"),d=D(),b=E("div"),k=E("input"),y=D(),v=E("div"),O=M("/"),A=M(V),$=D(),L=E("button"),ne=M(te),ge=D(),q=E("button"),W=ie("svg"),Y=ie("path"),this.h()},l(U){e=I(U,"DIV",{class:!0});var R=N(e);t=I(R,"P",{class:!0});var z=N(t);r.l(z),s=S(z),a=I(z,"BR",{}),i=S(z),o=I(z,"BR",{}),z.forEach(h),R.forEach(h),u=S(U),f=I(U,"DIV",{class:!0});var F=N(f);_=I(F,"BUTTON",{});var we=N(_);B=se(we,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Te=N(B);c=se(Te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(c).forEach(h),Te.forEach(h),we.forEach(h),d=S(F),b=I(F,"DIV",{class:!0});var re=N(b);k=I(re,"INPUT",{type:!0,min:!0,max:!0,class:!0}),y=S(re),v=I(re,"DIV",{class:!0});var ke=N(v);O=P(ke,"/"),A=P(ke,V),ke.forEach(h),re.forEach(h),$=S(F),L=I(F,"BUTTON",{class:!0});var Ee=N(L);ne=P(Ee,te),Ee.forEach(h),ge=S(F),q=I(F,"BUTTON",{});var Ie=N(q);W=se(Ie,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Be=N(W);Y=se(Be,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(Y).forEach(h),Be.forEach(h),Ie.forEach(h),F.forEach(h),this.h()},h(){m(t,"class","m-auto display text-center pb-20 p-10 text-3xl leading-loose"),m(e,"class","flex h-screen"),m(c,"stroke-linecap","round"),m(c,"stroke-linejoin","round"),m(c,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),m(B,"xmlns","http://www.w3.org/2000/svg"),m(B,"fill","none"),m(B,"viewBox","0 0 24 24"),m(B,"stroke-width","1.5"),m(B,"stroke","currentColor"),m(B,"class","w-6 h-6"),_.disabled=p=n[0]<1,m(k,"type","number"),m(k,"min","1"),m(k,"max",g=n[1].data.length),m(k,"class","text-center"),m(v,"class","text-xl"),m(b,"class","columns-2"),m(L,"class","text text-center"),m(Y,"stroke-linecap","round"),m(Y,"stroke-linejoin","round"),m(Y,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),m(W,"xmlns","http://www.w3.org/2000/svg"),m(W,"fill","none"),m(W,"viewBox","0 0 24 24"),m(W,"stroke-width","1.5"),m(W,"stroke","currentColor"),m(W,"class","w-6 h-6"),q.disabled=oe=n[0]>=n[1].data.length-1,m(f,"class","btm-nav")},m(U,R){T(U,e,R),w(e,t),K[l].m(t,null),w(t,s),w(t,a),w(t,i),w(t,o),T(U,u,R),T(U,f,R),w(f,_),w(_,B),w(B,c),w(f,d),w(f,b),w(b,k),Oe(k,n[0]),w(b,y),w(b,v),w(v,O),w(v,A),w(f,$),w(f,L),w(L,ne),w(f,ge),w(f,q),w(q,W),w(W,Y),G=!0,pe||(me=[J(_,"click",n[7]),J(k,"input",n[14]),J(k,"input",n[9]),J(L,"click",function(){Ye(n[2])&&n[2].apply(this,arguments)}),J(q,"click",n[6])],pe=!0)},p(U,[R]){n=U;let z=l;l=ye(n),l===z?K[l].p(n,R):(X(),H(K[z],1,1,()=>{K[z]=null}),Z(),r=K[l],r?r.p(n,R):(r=K[l]=ve[l](n),r.c()),j(r,1),r.m(t,s)),(!G||R&1&&p!==(p=n[0]<1))&&(_.disabled=p),(!G||R&2&&g!==(g=n[1].data.length))&&m(k,"max",g),R&1&&ze(k.value)!==n[0]&&Oe(k,n[0]),(!G||R&2)&&V!==(V=n[1].data.length+"")&&C(A,V),(!G||R&2)&&te!==(te=n[1].title.replaceAll("_"," ")+"")&&C(ne,te),(!G||R&3&&oe!==(oe=n[0]>=n[1].data.length-1))&&(q.disabled=oe)},i(U){G||(j(r),G=!0)},o(U){H(r),G=!1},d(U){U&&h(e),K[l].d(),U&&h(u),U&&h(f),pe=!1,Xe(me)}}}function mt(n,e,t){let{book:l}=e,{change_book:r}=e,{index:s}=e,{set_page:a}=e,i;B();function o(){i==null||i.finish(),t(0,s=Math.min(l.data.length+1,s+1)),B()}function u(){t(0,s=Math.max(1,s-1)),B()}var f=-1;function _(g){t(4,f=f===g?-1:g)}function B(){s==null||s==-1||(console.log("index:",s),t(3,i=et(l.data[s-1][l.switched?1:0])),a(s),t(4,f=-1),t(5,c=!1))}window.addEventListener("keyup",g=>{g.key=="ArrowLeft"||g.key=="a"?u():["ArrowRight","d"," "].includes(g.key)&&o()});var c=!1;function p(){t(5,c=!c)}const d=g=>i.fail([g[0],g[1]]),b=g=>i.fail([g[0],g[1]]);function k(){s=ze(this.value),t(0,s)}return n.$$set=g=>{"book"in g&&t(1,l=g.book),"change_book"in g&&t(2,r=g.change_book),"index"in g&&t(0,s=g.index),"set_page"in g&&t(11,a=g.set_page)},n.$$.update=()=>{n.$$.dirty&2&&console.log("book:",l.switched),n.$$.dirty&1&&s!=-1&&B()},[s,l,r,i,f,c,o,u,_,B,p,a,d,b,k]}class vt extends ue{constructor(e){super(),ce(this,e,mt,kt,fe,{book:1,change_book:2,index:0,set_page:11})}}function Ce(n){let e,t;return e=new vt({props:{book:n[0],change_book:n[4],index:n[3].page,set_page:n[6]}}),{c(){_e(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const s={};r&1&&(s.book=l[0]),r&8&&(s.index=l[3].page),e.$set(s)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){be(e,l)}}}function Le(n){let e,t;return e=new st({props:{inventory:n[1],callback:n[5],abort:n[7]}}),{c(){_e(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,r){de(e,l,r),t=!0},p(l,r){const s={};r&2&&(s.inventory=l[1]),r&12&&(s.abort=l[7]),e.$set(s)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){be(e,l)}}}function yt(n){let e,t,l,r,s,a,i,o,u,f,_,B,c,p,d,b,k,g=n[0]!=null&&n[3].page!=null&&Ce(n),y=n[2]&&Le(n);return{c(){e=E("button"),t=M("Preferences"),l=D(),g&&g.c(),r=D(),y&&y.c(),s=D(),a=E("dialog"),i=E("h2"),o=M("Dialog Box"),u=D(),f=E("p"),_=M("This is a sample dialog box."),B=D(),c=E("button"),p=M("Close"),this.h()},l(v){e=I(v,"BUTTON",{class:!0});var O=N(e);t=P(O,"Preferences"),O.forEach(h),l=S(v),g&&g.l(v),r=S(v),y&&y.l(v),s=S(v),a=I(v,"DIALOG",{id:!0});var V=N(a);i=I(V,"H2",{});var A=N(i);o=P(A,"Dialog Box"),A.forEach(h),u=S(V),f=I(V,"P",{});var $=N(f);_=P($,"This is a sample dialog box."),$.forEach(h),B=S(V),c=I(V,"BUTTON",{});var L=N(c);p=P(L,"Close"),L.forEach(h),V.forEach(h),this.h()},h(){m(e,"class","m-2 bg-grey200 fixed hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"),m(a,"id","myDialog")},m(v,O){T(v,e,O),w(e,t),T(v,l,O),g&&g.m(v,O),T(v,r,O),y&&y.m(v,O),T(v,s,O),T(v,a,O),w(a,i),w(i,o),w(a,u),w(a,f),w(f,_),w(a,B),w(a,c),w(c,p),d=!0,b||(k=J(e,"click",n[4]),b=!0)},p(v,[O]){v[0]!=null&&v[3].page!=null?g?(g.p(v,O),O&9&&j(g,1)):(g=Ce(v),g.c(),j(g,1),g.m(r.parentNode,r)):g&&(X(),H(g,1,1,()=>{g=null}),Z()),v[2]?y?(y.p(v,O),O&4&&j(y,1)):(y=Le(v),y.c(),j(y,1),y.m(s.parentNode,s)):y&&(X(),H(y,1,1,()=>{y=null}),Z())},i(v){d||(j(g),j(y),d=!0)},o(v){H(g),H(y),d=!1},d(v){v&&h(e),v&&h(l),g&&g.d(v),v&&h(r),y&&y.d(v),v&&h(s),v&&h(a),b=!1,k()}}}function wt(n,e,t){let l=null,r,s=!1;Ze(async()=>{xe().then(_=>{t(1,r=_);const B=localStorage.getItem("preferences");B!=null?(t(3,a=JSON.parse(B)),De(a.native_language,a.learning_language,a.title).then(c=>t(0,l=c))):t(2,s=!0)})});let a={native_language:"",learning_language:"",title:"",page:1};function i(){t(2,s=!0)}function o(_,B,c){t(2,s=!1),t(3,a={native_language:_,learning_language:B,title:c,page:1}),localStorage.setItem("preferences",JSON.stringify(a)),t(0,l=null),De(_,B,c).then(p=>t(0,l=p))}function u(_){t(3,a.page=_,a),localStorage.setItem("preferences",JSON.stringify(a))}return[l,r,s,a,i,o,u,()=>{t(2,s=a.title=="")}]}class It extends ue{constructor(e){super(),ce(this,e,wt,yt,fe,{})}}export{It as component};
