var Ze=Object.defineProperty;var xe=(r,e,t)=>e in r?Ze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var je=(r,e,t)=>(xe(r,typeof e!="symbol"?e+"":e,t),t);import{S as fe,i as _e,s as he,k as T,l as E,m as y,h as f,n as g,b as m,G as k,J as R,H as Q,q as S,a as M,r as j,c as P,K as oe,u as L,L as ue,M as ce,N as Me,O as $e,v as x,d as H,f as $,g as D,P as Fe,Q as et,e as Y,y as de,z as ge,A as be,B as pe,o as tt}from"../chunks/index.4bca57d7.js";async function lt(){const r="./index.json";return console.log("Fetching data from",r),await(await fetch(r)).json()}async function Pe(r,e,t){const n=`./books/${t}/${r}2${e}.json`,o=`./books/${t}/${e}2${r}.json`;var s=!1;let i;try{i=await(await fetch(n)).json()}catch{i=await(await fetch(o)).json(),s=!0}return{title:t,switched:s,data:i}}var le=new Map;{const r=localStorage.getItem("vocab_status");r&&(le=new Map(JSON.parse(r)))}class Qe{constructor(e){je(this,"vocabs");this.data=e,this.data=e,this.vocabs=new Set(e.filter(t=>typeof t!="string").map(t=>[t[0],t[1]]))}fail(e){le.has(JSON.stringify(e))||console.error("You failed a vocab you haven't seen yet",e)}finish(){this.vocabs.forEach(e=>{Ye(JSON.stringify(e),"known")})}}const nt=20;function ot(r){var e=Math.floor(Math.random()*3);const t=r.map(n=>{if(typeof n=="string")return n;{const[o,s]=n;return le.get(JSON.stringify([o,s]))==="known"?[o,s,!0]:e>0?(e-=1,[s,o,!1]):(e=nt,Ye(JSON.stringify([o,s]),"seen"),[o,s,!0])}});return new Qe(t)}function He(r){const e=r.map(t=>{if(typeof t=="string")return t;{const[n,o]=t;return[n,o,!0]}});return new Qe(e)}function Ye(r,e){le.set(r,e),localStorage.setItem("vocab_status",JSON.stringify([...le]))}function rt(){le.clear(),delete localStorage.vocab_status}const ee={whats_native:{en:"What is your native language?",de:"Was ist deine Muttersprache?",ru:"Какой ваш родной язык?",tr:"Anadiliniz nedir?",nl:"Wat is je moedertaal?"},I_speak:{en:"I speak english.",de:"Ich spreche deutsch.",ru:"Я говорю по-русски.",tr:"Ben konuşuyorum türkçe.",nl:"Ik spreek nederlands."},whats_target:{en:"Which language do you want to learn?",de:"Welche Sprache möchtest du lernen?",ru:"Какой язык вы хотите выучить?",tr:"Hangi dili öğrenmek istiyorsunuz?",nl:"Welke taal wil je leren?"},lang:{en:{en:"English 🇬🇧",de:"German 🇩🇪",ru:"Russian 🇷🇺",tr:"Turkish 🇹🇷",nl:"Dutch 🇳🇱"},de:{en:"Englisch 🇬🇧 ",de:"Deutsch 🇩🇪",ru:"Russisch 🇷🇺",tr:"Türkisch 🇹🇷",nl:"Niederländisch 🇳🇱"},ru:{en:"Английский 🇬🇧 ",de:"Немецкий 🇩🇪",ru:"Русский 🇷🇺",tr:"Турецкий 🇹🇷",nl:"Голландский 🇳🇱"},tr:{en:"İngilizce 🇬🇧 ",de:"Almanca 🇩🇪",ru:"Rusça 🇷🇺",tr:"Türkçe 🇹🇷",nl:"Hollandaca 🇳🇱"},nl:{en:"Engels 🇬🇧 ",de:"Duits 🇩🇪",ru:"Russisch 🇷🇺",tr:"Turks 🇹🇷",nl:"Nederlands 🇳🇱"}},pick_book:{en:"Pick a book",de:"Wähle ein Buch",ru:"Выберите книгу",tr:"Bir kitap seçin",nl:"Kies een boek"},books:{harrypotter:{en:"Harry Potter",de:"Harry Potter",ru:"Гарри Поттер",tr:"Harry Potter",nl:"Harry Potter"},mobydick:{en:"mobydick",de:"Mobydick",ru:"Моби Дик",tr:"Mobydick",nl:"Mobydick"}}};function Ue(r,e,t){const n=r.slice();return n[18]=e[t],n[16]=t,n}function Ve(r,e,t){const n=r.slice();return n[14]=e[t],n[16]=t,n}function Je(r,e,t){const n=r.slice();return n[14]=e[t],n[16]=t,n}function at(r){let e,t,n,o,s=r[4].books,i=[];for(let a=0;a<s.length;a+=1)i[a]=Ae(Ue(r,s,a));return{c(){e=T("h2"),t=S("Pick a book"),n=M(),o=T("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=E(a,"H2",{class:!0});var l=y(e);t=j(l,"Pick a book"),l.forEach(f),n=P(a),o=E(a,"DIV",{class:!0});var u=y(o);for(let c=0;c<i.length;c+=1)i[c].l(u);u.forEach(f),this.h()},h(){g(e,"class","text-3xl text-center text-gray-200 mb-6"),g(o,"class","flex justify-center")},m(a,l){m(a,e,l),k(e,t),m(a,n,l),m(a,o,l);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,null)},p(a,l){if(l&144){s=a[4].books;let u;for(u=0;u<s.length;u+=1){const c=Ue(a,s,u);i[u]?i[u].p(c,l):(i[u]=Ae(c),i[u].c(),i[u].m(o,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=s.length}},d(a){a&&f(e),a&&f(n),a&&f(o),oe(i,a)}}}function it(r){let e,t=ee.whats_target[r[2]]+"",n,o,s,i=r[3].targets,a=[];for(let l=0;l<i.length;l+=1)a[l]=Re(Ve(r,i,l));return{c(){e=T("h2"),n=S(t),o=M(),s=T("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=E(l,"H2",{class:!0});var u=y(e);n=j(u,t),u.forEach(f),o=P(l),s=E(l,"DIV",{class:!0});var c=y(s);for(let w=0;w<a.length;w+=1)a[w].l(c);c.forEach(f),this.h()},h(){g(e,"class","text-3xl text-center text-gray-200 mb-6"),g(s,"class","flex justify-center")},m(l,u){m(l,e,u),k(e,n),m(l,o,u),m(l,s,u);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(s,null)},p(l,u){if(u&4&&t!==(t=ee.whats_target[l[2]]+"")&&L(n,t),u&76){i=l[3].targets;let c;for(c=0;c<i.length;c+=1){const w=Ve(l,i,c);a[c]?a[c].p(w,u):(a[c]=Re(w),a[c].c(),a[c].m(s,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=i.length}},d(l){l&&f(e),l&&f(o),l&&f(s),oe(a,l)}}}function st(r){let e,t=ee.whats_native.en+"",n,o,s,i,a,l,u,c,w,N,v,O,I=r[0],h=[];for(let p=0;p<I.length;p+=1)h[p]=We(Je(r,I,p));return{c(){e=T("h2"),n=S(t),o=M(),s=T("div");for(let p=0;p<h.length;p+=1)h[p].c();i=M(),a=T("h2"),l=S("Delete all user data"),u=M(),c=T("div"),w=T("button"),N=S("Delete"),this.h()},l(p){e=E(p,"H2",{class:!0});var _=y(e);n=j(_,t),_.forEach(f),o=P(p),s=E(p,"DIV",{class:!0});var b=y(s);for(let J=0;J<h.length;J+=1)h[J].l(b);b.forEach(f),i=P(p),a=E(p,"H2",{class:!0});var d=y(a);l=j(d,"Delete all user data"),d.forEach(f),u=P(p),c=E(p,"DIV",{class:!0});var B=y(c);w=E(B,"BUTTON",{class:!0});var A=y(w);N=j(A,"Delete"),A.forEach(f),B.forEach(f),this.h()},h(){g(e,"class","text-3xl text-center text-gray-200 mb-6"),g(s,"class","justify-center"),g(a,"class","text-3xl text-center mt-4"),g(w,"class","px-4 py-2 bg-red-500 text-white rounded-md m-2"),g(c,"class","flex justify-center")},m(p,_){m(p,e,_),k(e,n),m(p,o,_),m(p,s,_);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(s,null);m(p,i,_),m(p,a,_),k(a,l),m(p,u,_),m(p,c,_),k(c,w),k(w,N),v||(O=R(w,"click",rt),v=!0)},p(p,_){if(_&33){I=p[0];let b;for(b=0;b<I.length;b+=1){const d=Je(p,I,b);h[b]?h[b].p(d,_):(h[b]=We(d),h[b].c(),h[b].m(s,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=I.length}},d(p){p&&f(e),p&&f(o),p&&f(s),oe(h,p),p&&f(i),p&&f(a),p&&f(u),p&&f(c),v=!1,O()}}}function Ae(r){let e,t=r[18]+"",n,o,s;function i(){return r[11](r[16])}return{c(){e=T("button"),n=S(t),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=y(e);n=j(l,t),l.forEach(f),this.h()},h(){g(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-2")},m(a,l){m(a,e,l),k(e,n),o||(s=R(e,"click",i),o=!0)},p(a,l){r=a,l&16&&t!==(t=r[18]+"")&&L(n,t)},d(a){a&&f(e),o=!1,s()}}}function Re(r){let e,t=ee.lang[r[2]][r[14].language]+"",n,o,s;function i(){return r[10](r[16])}return{c(){e=T("button"),n=S(t),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=y(e);n=j(l,t),l.forEach(f),this.h()},h(){g(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-2")},m(a,l){m(a,e,l),k(e,n),o||(s=R(e,"click",i),o=!0)},p(a,l){r=a,l&12&&t!==(t=ee.lang[r[2]][r[14].language]+"")&&L(n,t)},d(a){a&&f(e),o=!1,s()}}}function We(r){let e,t=ee.I_speak[r[14].origin_language]+"",n,o,s;function i(){return r[9](r[16])}return{c(){e=T("button"),n=S(t),this.h()},l(a){e=E(a,"BUTTON",{class:!0});var l=y(e);n=j(l,t),l.forEach(f),this.h()},h(){g(e,"class","px-4 py-2 bg-blue-500 text-white rounded-md m-auto mt-2 block")},m(a,l){m(a,e,l),k(e,n),o||(s=R(e,"click",i),o=!0)},p(a,l){r=a,l&1&&t!==(t=ee.I_speak[r[14].origin_language]+"")&&L(n,t)},d(a){a&&f(e),o=!1,s()}}}function ut(r){let e,t,n,o;function s(l,u){return l[3]==null?st:l[4]==null?it:at}let i=s(r),a=i(r);return{c(){e=T("div"),t=T("div"),a.c(),this.h()},l(l){e=E(l,"DIV",{id:!0,class:!0});var u=y(e);t=E(u,"DIV",{id:!0,class:!0});var c=y(t);a.l(c),c.forEach(f),u.forEach(f),this.h()},h(){g(t,"id","book_picker"),g(t,"class","bg-gray-700 rounded-xl p-8"),g(e,"id","backdrop"),g(e,"class","fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50")},m(l,u){m(l,e,u),k(e,t),a.m(t,null),n||(o=R(e,"click",r[12]),n=!0)},p(l,[u]){i===(i=s(l))&&a?a.p(l,u):(a.d(1),a=i(l),a&&(a.c(),a.m(t,null)))},i:Q,o:Q,d(l){l&&f(e),a.d(),n=!1,o()}}}function ct(r,e,t){let{inventory:n}=e,{callback:o}=e,{abort:s}=e;var i,a=null,l=null;function u(h){t(2,i=n[h].origin_language),t(3,a=n[h])}function c(h){t(4,l=a.targets[h])}function w(h){const p=l.books[h];o(a.origin_language,l.language,p)}const N=h=>u(h),v=h=>c(h),O=h=>w(h),I=h=>{h.target==h.currentTarget&&s()};return r.$$set=h=>{"inventory"in h&&t(0,n=h.inventory),"callback"in h&&t(8,o=h.callback),"abort"in h&&t(1,s=h.abort)},[n,s,i,a,l,u,c,w,o,N,v,O,I]}class ft extends fe{constructor(e){super(),_e(this,e,ct,ut,he,{inventory:0,callback:8,abort:1})}}function _t(r){let e=r[0].translation+"",t;return{c(){t=S(e)},l(n){t=j(n,e)},m(n,o){m(n,t,o)},p(n,o){o&1&&e!==(e=n[0].translation+"")&&L(t,e)},d(n){n&&f(t)}}}function ht(r){let e,t=r[0].translation+"",n,o,s,i=r[0].original+"",a;return{c(){e=T("span"),n=S(t),o=M(),s=T("div"),a=S(i),this.h()},l(l){e=E(l,"SPAN",{class:!0});var u=y(e);n=j(u,t),u.forEach(f),o=P(l),s=E(l,"DIV",{class:!0});var c=y(s);a=j(c,i),c.forEach(f),this.h()},h(){g(e,"class","text-secondary"),g(s,"class","absolute text-white mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(l,u){m(l,e,u),k(e,n),m(l,o,u),m(l,s,u),k(s,a)},p(l,u){u&1&&t!==(t=l[0].translation+"")&&L(n,t),u&1&&i!==(i=l[0].original+"")&&L(a,i)},d(l){l&&f(e),l&&f(o),l&&f(s)}}}function dt(r){let e,t,n,o;function s(l,u){return l[2]===l[1]?ht:_t}let i=s(r),a=i(r);return{c(){e=T("button"),a.c(),this.h()},l(l){e=E(l,"BUTTON",{class:!0});var u=y(e);a.l(u),u.forEach(f),this.h()},h(){g(e,"class",t=r[0].active?"text-primary":"text-[#eea] relative")},m(l,u){m(l,e,u),a.m(e,null),n||(o=R(e,"click",r[3]),n=!0)},p(l,[u]){i===(i=s(l))&&a?a.p(l,u):(a.d(1),a=i(l),a&&(a.c(),a.m(e,null))),u&1&&t!==(t=l[0].active?"text-primary":"text-[#eea] relative")&&g(e,"class",t)},i:Q,o:Q,d(l){l&&f(e),a.d(),n=!1,o()}}}function gt(r,e,t){let{data:n}=e,{index:o}=e,{openTooltipIndex:s}=e,{toggleTooltip:i}=e,{fail:a}=e;function l(){i(o),a()}return r.$$set=u=>{"data"in u&&t(0,n=u.data),"index"in u&&t(1,o=u.index),"openTooltipIndex"in u&&t(2,s=u.openTooltipIndex),"toggleTooltip"in u&&t(4,i=u.toggleTooltip),"fail"in u&&t(5,a=u.fail)},[n,o,s,l,i,a]}class Xe extends fe{constructor(e){super(),_e(this,e,gt,dt,he,{data:0,index:1,openTooltipIndex:2,toggleTooltip:4,fail:5})}}function Ce(r,e,t){const n=r.slice();return n[15]=e[t],n[0]=t,n}function Le(r,e,t){const n=r.slice();return n[15]=e[t],n[0]=t,n}function bt(r){let e,t,n=He(r[1].data[r[0]-1][r[1].switched?0:1]).data,o=[];for(let i=0;i<n.length;i+=1)o[i]=ze(Ce(r,n,i));const s=i=>H(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Y()},l(i){for(let a=0;a<o.length;a+=1)o[a].l(i);e=Y()},m(i,a){for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(i,a);m(i,e,a),t=!0},p(i,a){if(a&283){n=He(i[1].data[i[0]-1][i[1].switched?0:1]).data;let l;for(l=0;l<n.length;l+=1){const u=Ce(i,n,l);o[l]?(o[l].p(u,a),D(o[l],1)):(o[l]=ze(u),o[l].c(),D(o[l],1),o[l].m(e.parentNode,e))}for(x(),l=n.length;l<o.length;l+=1)s(l);$()}},i(i){if(!t){for(let a=0;a<n.length;a+=1)D(o[a]);t=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)H(o[a]);t=!1},d(i){oe(o,i),i&&f(e)}}}function pt(r){let e,t,n=r[3].data,o=[];for(let i=0;i<n.length;i+=1)o[i]=Ge(Le(r,n,i));const s=i=>H(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Y()},l(i){for(let a=0;a<o.length;a+=1)o[a].l(i);e=Y()},m(i,a){for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(i,a);m(i,e,a),t=!0},p(i,a){if(a&280){n=i[3].data;let l;for(l=0;l<n.length;l+=1){const u=Le(i,n,l);o[l]?(o[l].p(u,a),D(o[l],1)):(o[l]=Ge(u),o[l].c(),D(o[l],1),o[l].m(e.parentNode,e))}for(x(),l=n.length;l<o.length;l+=1)s(l);$()}},i(i){if(!t){for(let a=0;a<n.length;a+=1)D(o[a]);t=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)H(o[a]);t=!1},d(i){oe(o,i),i&&f(e)}}}function kt(r){let e,t;function n(){return r[13](r[15])}return e=new Xe({props:{data:{original:r[15][0],translation:r[15][1],active:r[15][2]},index:r[0],openTooltipIndex:r[4],toggleTooltip:r[8],fail:n}}),{c(){de(e.$$.fragment)},l(o){ge(e.$$.fragment,o)},m(o,s){be(e,o,s),t=!0},p(o,s){r=o;const i={};s&3&&(i.data={original:r[15][0],translation:r[15][1],active:r[15][2]}),s&16&&(i.openTooltipIndex=r[4]),s&11&&(i.fail=n),e.$set(i)},i(o){t||(D(e.$$.fragment,o),t=!0)},o(o){H(e.$$.fragment,o),t=!1},d(o){pe(e,o)}}}function mt(r){let e=r[15]+"",t;return{c(){t=S(e)},l(n){t=j(n,e)},m(n,o){m(n,t,o)},p(n,o){o&3&&e!==(e=n[15]+"")&&L(t,e)},i:Q,o:Q,d(n){n&&f(t)}}}function ze(r){let e,t,n,o;const s=[mt,kt],i=[];function a(l,u){return typeof l[15]=="string"?0:1}return e=a(r),t=i[e]=s[e](r),{c(){t.c(),n=Y()},l(l){t.l(l),n=Y()},m(l,u){i[e].m(l,u),m(l,n,u),o=!0},p(l,u){let c=e;e=a(l),e===c?i[e].p(l,u):(x(),H(i[c],1,1,()=>{i[c]=null}),$(),t=i[e],t?t.p(l,u):(t=i[e]=s[e](l),t.c()),D(t,1),t.m(n.parentNode,n))},i(l){o||(D(t),o=!0)},o(l){H(t),o=!1},d(l){i[e].d(l),l&&f(n)}}}function vt(r){let e,t;function n(){return r[12](r[15])}return e=new Xe({props:{data:{original:r[15][1],translation:r[15][0],active:r[15][2]},index:r[0],openTooltipIndex:r[4],toggleTooltip:r[8],fail:n}}),{c(){de(e.$$.fragment)},l(o){ge(e.$$.fragment,o)},m(o,s){be(e,o,s),t=!0},p(o,s){r=o;const i={};s&8&&(i.data={original:r[15][1],translation:r[15][0],active:r[15][2]}),s&16&&(i.openTooltipIndex=r[4]),s&8&&(i.fail=n),e.$set(i)},i(o){t||(D(e.$$.fragment,o),t=!0)},o(o){H(e.$$.fragment,o),t=!1},d(o){pe(e,o)}}}function yt(r){let e=r[15]+"",t;return{c(){t=S(e)},l(n){t=j(n,e)},m(n,o){m(n,t,o)},p(n,o){o&8&&e!==(e=n[15]+"")&&L(t,e)},i:Q,o:Q,d(n){n&&f(t)}}}function Ge(r){let e,t,n,o;const s=[yt,vt],i=[];function a(l,u){return typeof l[15]=="string"?0:1}return e=a(r),t=i[e]=s[e](r),{c(){t.c(),n=Y()},l(l){t.l(l),n=Y()},m(l,u){i[e].m(l,u),m(l,n,u),o=!0},p(l,u){let c=e;e=a(l),e===c?i[e].p(l,u):(x(),H(i[c],1,1,()=>{i[c]=null}),$(),t=i[e],t?t.p(l,u):(t=i[e]=s[e](l),t.c()),D(t,1),t.m(n.parentNode,n))},i(l){o||(D(t),o=!0)},o(l){H(t),o=!1},d(l){i[e].d(l),l&&f(n)}}}function wt(r){let e,t,n,o,s,i,a,l,u,c,w,N,v,O,I,h,p,_,b,d,B,A,J,te,G=r[1].data.length+"",re,ke,X,ne=r[1].title.replaceAll("_"," ")+"",ae,me,q,C,Z,ie,z,ve,we;const Te=[pt,bt],K=[];function Ee(U,V){return U[5]?1:0}return n=Ee(r),o=K[n]=Te[n](r),{c(){e=T("div"),t=T("p"),o.c(),s=M(),i=T("br"),a=M(),l=T("br"),u=M(),c=T("button"),w=S("translate all"),N=M(),v=T("div"),O=T("button"),I=ue("svg"),h=ue("path"),_=M(),b=T("div"),d=T("input"),A=M(),J=T("div"),te=S("/"),re=S(G),ke=M(),X=T("button"),ae=S(ne),me=M(),q=T("button"),C=ue("svg"),Z=ue("path"),this.h()},l(U){e=E(U,"DIV",{class:!0});var V=y(e);t=E(V,"P",{class:!0});var W=y(t);o.l(W),s=P(W),i=E(W,"BR",{}),a=P(W),l=E(W,"BR",{}),u=P(W),c=E(W,"BUTTON",{class:!0});var Ie=y(c);w=j(Ie,"translate all"),Ie.forEach(f),W.forEach(f),V.forEach(f),N=P(U),v=E(U,"DIV",{class:!0});var F=y(v);O=E(F,"BUTTON",{});var Ne=y(O);I=ce(Ne,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Be=y(I);h=ce(Be,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),y(h).forEach(f),Be.forEach(f),Ne.forEach(f),_=P(F),b=E(F,"DIV",{class:!0});var se=y(b);d=E(se,"INPUT",{type:!0,min:!0,max:!0,class:!0}),A=P(se),J=E(se,"DIV",{class:!0});var ye=y(J);te=j(ye,"/"),re=j(ye,G),ye.forEach(f),se.forEach(f),ke=P(F),X=E(F,"BUTTON",{class:!0});var De=y(X);ae=j(De,ne),De.forEach(f),me=P(F),q=E(F,"BUTTON",{});var Oe=y(q);C=ce(Oe,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Se=y(C);Z=ce(Se,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),y(Z).forEach(f),Se.forEach(f),Oe.forEach(f),F.forEach(f),this.h()},h(){g(c,"class","text-primary font-semibold rounded px-4 py-0"),g(t,"class","m-auto display text-center pb-20 p-10 text-3xl leading-loose"),g(e,"class","flex h-screen"),g(h,"stroke-linecap","round"),g(h,"stroke-linejoin","round"),g(h,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),g(I,"xmlns","http://www.w3.org/2000/svg"),g(I,"fill","none"),g(I,"viewBox","0 0 24 24"),g(I,"stroke-width","1.5"),g(I,"stroke","currentColor"),g(I,"class","w-6 h-6"),O.disabled=p=r[0]<1,g(d,"type","number"),g(d,"min","1"),g(d,"max",B=r[1].data.length),g(d,"class","text-center"),g(J,"class","text-xl"),g(b,"class","columns-2"),g(X,"class","text text-center"),g(Z,"stroke-linecap","round"),g(Z,"stroke-linejoin","round"),g(Z,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),g(C,"xmlns","http://www.w3.org/2000/svg"),g(C,"fill","none"),g(C,"viewBox","0 0 24 24"),g(C,"stroke-width","1.5"),g(C,"stroke","currentColor"),g(C,"class","w-6 h-6"),q.disabled=ie=r[0]>=r[1].data.length-1,g(v,"class","btm-nav")},m(U,V){m(U,e,V),k(e,t),K[n].m(t,null),k(t,s),k(t,i),k(t,a),k(t,l),k(t,u),k(t,c),k(c,w),m(U,N,V),m(U,v,V),k(v,O),k(O,I),k(I,h),k(v,_),k(v,b),k(b,d),Me(d,r[0]),k(b,A),k(b,J),k(J,te),k(J,re),k(v,ke),k(v,X),k(X,ae),k(v,me),k(v,q),k(q,C),k(C,Z),z=!0,ve||(we=[R(c,"click",r[10]),R(O,"click",r[7]),R(d,"input",r[14]),R(d,"input",r[9]),R(X,"click",function(){$e(r[2])&&r[2].apply(this,arguments)}),R(q,"click",r[6])],ve=!0)},p(U,[V]){r=U;let W=n;n=Ee(r),n===W?K[n].p(r,V):(x(),H(K[W],1,1,()=>{K[W]=null}),$(),o=K[n],o?o.p(r,V):(o=K[n]=Te[n](r),o.c()),D(o,1),o.m(t,s)),(!z||V&1&&p!==(p=r[0]<1))&&(O.disabled=p),(!z||V&2&&B!==(B=r[1].data.length))&&g(d,"max",B),V&1&&Fe(d.value)!==r[0]&&Me(d,r[0]),(!z||V&2)&&G!==(G=r[1].data.length+"")&&L(re,G),(!z||V&2)&&ne!==(ne=r[1].title.replaceAll("_"," ")+"")&&L(ae,ne),(!z||V&3&&ie!==(ie=r[0]>=r[1].data.length-1))&&(q.disabled=ie)},i(U){z||(D(o),z=!0)},o(U){H(o),z=!1},d(U){U&&f(e),K[n].d(),U&&f(N),U&&f(v),ve=!1,et(we)}}}function Tt(r,e,t){let{book:n}=e,{change_book:o}=e,{index:s}=e,{set_page:i}=e,a;N();function l(){a==null||a.finish(),t(0,s=Math.min(n.data.length+1,s+1)),N()}function u(){t(0,s=Math.max(1,s-1)),N()}var c=-1;function w(_){t(4,c=c===_?-1:_)}function N(){s==null||s==-1||(console.log("index:",s),t(3,a=ot(n.data[s-1][n.switched?1:0])),i(s),t(4,c=-1),t(5,v=!1))}window.addEventListener("keyup",_=>{_.key=="ArrowLeft"||_.key=="a"?u():["ArrowRight","d"," "].includes(_.key)&&l()});var v=!1;function O(){t(5,v=!v)}const I=_=>a.fail([_[0],_[1]]),h=_=>a.fail([_[0],_[1]]);function p(){s=Fe(this.value),t(0,s)}return r.$$set=_=>{"book"in _&&t(1,n=_.book),"change_book"in _&&t(2,o=_.change_book),"index"in _&&t(0,s=_.index),"set_page"in _&&t(11,i=_.set_page)},r.$$.update=()=>{r.$$.dirty&2&&console.log("book:",n.switched),r.$$.dirty&1&&s!=-1&&N()},[s,n,o,a,c,v,l,u,w,N,O,i,I,h,p]}class Et extends fe{constructor(e){super(),_e(this,e,Tt,wt,he,{book:1,change_book:2,index:0,set_page:11})}}function qe(r){let e,t;return e=new Et({props:{book:r[0],change_book:r[4],index:r[3].page,set_page:r[6]}}),{c(){de(e.$$.fragment)},l(n){ge(e.$$.fragment,n)},m(n,o){be(e,n,o),t=!0},p(n,o){const s={};o&1&&(s.book=n[0]),o&8&&(s.index=n[3].page),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){pe(e,n)}}}function Ke(r){let e,t;return e=new ft({props:{inventory:r[1],callback:r[5],abort:r[7]}}),{c(){de(e.$$.fragment)},l(n){ge(e.$$.fragment,n)},m(n,o){be(e,n,o),t=!0},p(n,o){const s={};o&2&&(s.inventory=n[1]),o&12&&(s.abort=n[7]),e.$set(s)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){H(e.$$.fragment,n),t=!1},d(n){pe(e,n)}}}function It(r){let e,t,n,o,s,i,a,l,u,c,w,N,v,O,I,h,p,_=r[0]!=null&&r[3].page!=null&&qe(r),b=r[2]&&Ke(r);return{c(){e=T("button"),t=S("Preferences"),n=M(),_&&_.c(),o=M(),b&&b.c(),s=M(),i=T("dialog"),a=T("h2"),l=S("Dialog Box"),u=M(),c=T("p"),w=S("This is a sample dialog box."),N=M(),v=T("button"),O=S("Close"),this.h()},l(d){e=E(d,"BUTTON",{class:!0});var B=y(e);t=j(B,"Preferences"),B.forEach(f),n=P(d),_&&_.l(d),o=P(d),b&&b.l(d),s=P(d),i=E(d,"DIALOG",{id:!0});var A=y(i);a=E(A,"H2",{});var J=y(a);l=j(J,"Dialog Box"),J.forEach(f),u=P(A),c=E(A,"P",{});var te=y(c);w=j(te,"This is a sample dialog box."),te.forEach(f),N=P(A),v=E(A,"BUTTON",{});var G=y(v);O=j(G,"Close"),G.forEach(f),A.forEach(f),this.h()},h(){g(e,"class","m-2 bg-grey200 fixed hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"),g(i,"id","myDialog")},m(d,B){m(d,e,B),k(e,t),m(d,n,B),_&&_.m(d,B),m(d,o,B),b&&b.m(d,B),m(d,s,B),m(d,i,B),k(i,a),k(a,l),k(i,u),k(i,c),k(c,w),k(i,N),k(i,v),k(v,O),I=!0,h||(p=R(e,"click",r[4]),h=!0)},p(d,[B]){d[0]!=null&&d[3].page!=null?_?(_.p(d,B),B&9&&D(_,1)):(_=qe(d),_.c(),D(_,1),_.m(o.parentNode,o)):_&&(x(),H(_,1,1,()=>{_=null}),$()),d[2]?b?(b.p(d,B),B&4&&D(b,1)):(b=Ke(d),b.c(),D(b,1),b.m(s.parentNode,s)):b&&(x(),H(b,1,1,()=>{b=null}),$())},i(d){I||(D(_),D(b),I=!0)},o(d){H(_),H(b),I=!1},d(d){d&&f(e),d&&f(n),_&&_.d(d),d&&f(o),b&&b.d(d),d&&f(s),d&&f(i),h=!1,p()}}}function Nt(r,e,t){let n=null,o,s=!1;tt(async()=>{lt().then(w=>{t(1,o=w);const N=localStorage.getItem("preferences");N!=null?(t(3,i=JSON.parse(N)),Pe(i.native_language,i.learning_language,i.title).then(v=>t(0,n=v))):t(2,s=!0)})});let i={native_language:"",learning_language:"",title:"",page:1};function a(){t(2,s=!0)}function l(w,N,v){t(2,s=!1),t(3,i={native_language:w,learning_language:N,title:v,page:1}),localStorage.setItem("preferences",JSON.stringify(i)),t(0,n=null),Pe(w,N,v).then(O=>t(0,n=O))}function u(w){t(3,i.page=w,i),localStorage.setItem("preferences",JSON.stringify(i))}return[n,o,s,i,a,l,u,()=>{t(2,s=i.title=="")}]}class Ot extends fe{constructor(e){super(),_e(this,e,Nt,It,he,{})}}export{Ot as component};
