var ce=Object.defineProperty;var ue=(i,e,o)=>e in i?ce(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var O=(i,e,o)=>(ue(i,typeof e!="symbol"?e+"":e,o),o);import{J as fe,S as P,i as S,s as z,k as x,q as A,a as V,l as T,m,r as q,c as C,h,n as d,b as E,G as v,K as N,u as oe,g as b,v as D,d as $,f as L,L as le,M as J,N as de,e as K,y as se,z as re,A as ie,B as ae,H as U,O as B,P as F,Q as he,o as _e,R as pe,T as ge,U as me,V as be}from"../chunks/index.36696f0a.js";function ve(i){const e=i-1;return e*e*e+1}function Q(i,{delay:e=0,duration:o=400,easing:t=fe}={}){const l=+getComputedStyle(i).opacity;return{delay:e,duration:o,easing:t,css:c=>`opacity: ${c*l}`}}function ke(i,{delay:e=0,duration:o=400,easing:t=ve,axis:l="y"}={}){const c=getComputedStyle(i),r=+c.opacity,a=l==="y"?"height":"width",n=parseFloat(c[a]),s=l==="y"?["top","bottom"]:["left","right"],u=s.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),p=parseFloat(c[`padding${u[0]}`]),w=parseFloat(c[`padding${u[1]}`]),g=parseFloat(c[`margin${u[0]}`]),y=parseFloat(c[`margin${u[1]}`]),I=parseFloat(c[`border${u[0]}Width`]),_=parseFloat(c[`border${u[1]}Width`]);return{delay:e,duration:o,easing:t,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*r};${a}: ${f*n}px;padding-${s[0]}: ${f*p}px;padding-${s[1]}: ${f*w}px;margin-${s[0]}: ${f*g}px;margin-${s[1]}: ${f*y}px;border-${s[0]}-width: ${f*I}px;border-${s[1]}-width: ${f*_}px;`}}class we{constructor(){O(this,"sentences");O(this,"title");this.sentences=[""],this.title=""}build(e,o){this.sentences=o,this.title=e}}var M=new we;async function ye(){const i=window.location+"/booklist.json";return console.log("url",i),new Promise((e,o)=>{fetch(i).then(t=>{t.json().then(async l=>{console.log("booklist.json",l),await xe(l[0]),console.log("resolving."),e()})})})}async function xe(i){console.log("choose_book",i);const e=window.location+"/books/"+i+".json";console.log("url",e);let t=await(await fetch(e)).json();console.log("book.json",t),console.log("title",i),M.build(i,t)}function X(i){let e,o=i[0].original+"",t,l,c;return{c(){e=x("div"),t=A(o),this.h()},l(r){e=T(r,"DIV",{class:!0});var a=m(e);t=q(a,o),a.forEach(h),this.h()},h(){d(e,"class","absolute mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(r,a){E(r,e,a),v(e,t),c=!0},p(r,a){(!c||a&1)&&o!==(o=r[0].original+"")&&oe(t,o)},i(r){c||(le(()=>{c&&(l||(l=J(e,Q,{},!0)),l.run(1))}),c=!0)},o(r){l||(l=J(e,Q,{},!1)),l.run(0),c=!1},d(r){r&&h(e),r&&l&&l.end()}}}function Te(i){let e,o=i[0].translation+"",t,l,c,r,a,n=i[2]===i[1]&&X(i);return{c(){e=x("button"),t=A(o),l=V(),n&&n.c(),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var u=m(e);t=q(u,o),l=C(u),n&&n.l(u),u.forEach(h),this.h()},h(){d(e,"class","text-primary relative")},m(s,u){E(s,e,u),v(e,t),v(e,l),n&&n.m(e,null),c=!0,r||(a=N(e,"click",i[4]),r=!0)},p(s,[u]){(!c||u&1)&&o!==(o=s[0].translation+"")&&oe(t,o),s[2]===s[1]?n?(n.p(s,u),u&6&&b(n,1)):(n=X(s),n.c(),b(n,1),n.m(e,null)):n&&(D(),$(n,1,1,()=>{n=null}),L())},i(s){c||(b(n),c=!0)},o(s){$(n),c=!1},d(s){s&&h(e),n&&n.d(),r=!1,a()}}}function Ee(i,e,o){let{data:t}=e,{index:l}=e,{openTooltipIndex:c}=e,{toggleTooltip:r}=e;const a=()=>r(l);return i.$$set=n=>{"data"in n&&o(0,t=n.data),"index"in n&&o(1,l=n.index),"openTooltipIndex"in n&&o(2,c=n.openTooltipIndex),"toggleTooltip"in n&&o(3,r=n.toggleTooltip)},[t,l,c,r,a]}class $e extends P{constructor(e){super(),S(this,e,Ee,Te,z,{data:0,index:1,openTooltipIndex:2,toggleTooltip:3})}}function Y(i,e,o){const t=i.slice();return t[6]=e[o],t[8]=o,t}function Ie(i){let e,o;return e=new $e({props:{data:i[6],index:i[8],openTooltipIndex:i[0],toggleTooltip:i[2]}}),{c(){se(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,l){ie(e,t,l),o=!0},p(t,l){const c={};l&1&&(c.openTooltipIndex=t[0]),e.$set(c)},i(t){o||(b(e.$$.fragment,t),o=!0)},o(t){$(e.$$.fragment,t),o=!1},d(t){ae(e,t)}}}function Me(i){let e=i[6]+"",o;return{c(){o=A(e)},l(t){o=q(t,e)},m(t,l){E(t,o,l)},p:U,i:U,o:U,d(t){t&&h(o)}}}function Z(i){let e,o,t,l;const c=[Me,Ie],r=[];function a(n,s){return typeof n[6]=="string"?0:1}return e=a(i),o=r[e]=c[e](i),{c(){o.c(),t=K()},l(n){o.l(n),t=K()},m(n,s){r[e].m(n,s),E(n,t,s),l=!0},p(n,s){o.p(n,s)},i(n){l||(b(o),l=!0)},o(n){$(o),l=!1},d(n){r[e].d(n),n&&h(t)}}}function je(i){let e,o,t=i[1],l=[];for(let r=0;r<t.length;r+=1)l[r]=Z(Y(i,t,r));const c=r=>$(l[r],1,1,()=>{l[r]=null});return{c(){e=x("p");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){e=T(r,"P",{});var a=m(e);for(let n=0;n<l.length;n+=1)l[n].l(a);a.forEach(h)},m(r,a){E(r,e,a);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null);o=!0},p(r,[a]){if(a&7){t=r[1];let n;for(n=0;n<t.length;n+=1){const s=Y(r,t,n);l[n]?(l[n].p(s,a),b(l[n],1)):(l[n]=Z(s),l[n].c(),b(l[n],1),l[n].m(e,null))}for(D(),n=t.length;n<l.length;n+=1)c(n);L()}},i(r){if(!o){for(let a=0;a<t.length;a+=1)b(l[a]);o=!0}},o(r){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)$(l[a]);o=!1},d(r){r&&h(e),de(l,r)}}}function Be(i,e,o){let{txt:t}=e,{translations:l}=e;function c(s){var u=[s];return l.forEach((p,w)=>{var g=[];u.forEach(y=>{if(typeof y=="string"&&y.includes(w)){var I=y.split(w);g.push(I[0]),g.push({translation:p,original:w}),g.push(I[1])}else g.push(y)}),u=g}),u}const r=c(t);let a=-1,n=s=>{o(0,a=a===s?-1:s)};return i.$$set=s=>{"txt"in s&&o(3,t=s.txt),"translations"in s&&o(4,l=s.translations)},[a,r,n,t,l]}class Fe extends P{constructor(e){super(),S(this,e,Be,je,z,{txt:3,translations:4})}}const{Map:Ve}=me;function ee(i,e,o){const t=i.slice();return t[5]=e[o],t}function te(i){let e,o,t=[],l=new Ve,c,r=i[1];const a=n=>n[0];for(let n=0;n<r.length;n+=1){let s=ee(i,r,n),u=a(s);l.set(u,t[n]=ne(u,s))}return{c(){e=x("div"),o=x("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=T(n,"DIV",{class:!0});var s=m(e);o=T(s,"DIV",{class:!0});var u=m(o);for(let p=0;p<t.length;p+=1)t[p].l(u);u.forEach(h),s.forEach(h),this.h()},h(){d(o,"class","display text-center pb-20 p-10 text-3xl leading-loose"),d(e,"class","m-auto")},m(n,s){E(n,e,s),v(e,o);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(o,null);c=!0},p(n,s){s&3&&(r=n[1],D(),t=pe(t,s,a,1,n,r,l,o,be,ne,null,ee),L())},i(n){if(!c){for(let s=0;s<r.length;s+=1)b(t[s]);c=!0}},o(n){for(let s=0;s<t.length;s+=1)$(t[s]);c=!1},d(n){n&&h(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function ne(i,e){let o,t,l,c,r;return t=new Fe({props:{txt:e[1][0],translations:new Map([])}}),{key:i,first:null,c(){o=x("div"),se(t.$$.fragment),l=V(),this.h()},l(a){o=T(a,"DIV",{});var n=m(o);re(t.$$.fragment,n),l=C(n),n.forEach(h),this.h()},h(){this.first=o},m(a,n){E(a,o,n),ie(t,o,null),v(o,l),r=!0},p(a,n){e=a;const s={};n&2&&(s.txt=e[1][0]),t.$set(s)},i(a){r||(b(t.$$.fragment,a),c||le(()=>{c=ge(o,ke,{duration:1e3}),c.start()}),r=!0)},o(a){$(t.$$.fragment,a),r=!1},d(a){a&&h(o),ae(t)}}}function Ce(i){let e,o,t,l,c,r,a,n,s,u,p,w,g,y,I,_=i[0]!=-1&&te(i);return{c(){e=x("div"),_&&_.c(),o=V(),t=x("div"),l=x("button"),c=B("svg"),r=B("path"),n=V(),s=x("button"),u=B("svg"),p=B("path"),this.h()},l(f){e=T(f,"DIV",{class:!0});var k=m(e);_&&_.l(k),k.forEach(h),o=C(f),t=T(f,"DIV",{class:!0});var j=m(t);l=T(j,"BUTTON",{});var H=m(l);c=F(H,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var R=m(c);r=F(R,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),m(r).forEach(h),R.forEach(h),H.forEach(h),n=C(j),s=T(j,"BUTTON",{});var W=m(s);u=F(W,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var G=m(u);p=F(G,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),m(p).forEach(h),G.forEach(h),W.forEach(h),j.forEach(h),this.h()},h(){d(e,"class","flex h-screen"),d(r,"stroke-linecap","round"),d(r,"stroke-linejoin","round"),d(r,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),d(c,"xmlns","http://www.w3.org/2000/svg"),d(c,"fill","none"),d(c,"viewBox","0 0 24 24"),d(c,"stroke-width","1.5"),d(c,"stroke","currentColor"),d(c,"class","w-6 h-6"),l.disabled=a=i[0]<1,d(p,"stroke-linecap","round"),d(p,"stroke-linejoin","round"),d(p,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),d(u,"xmlns","http://www.w3.org/2000/svg"),d(u,"fill","none"),d(u,"viewBox","0 0 24 24"),d(u,"stroke-width","1.5"),d(u,"stroke","currentColor"),d(u,"class","w-6 h-6"),s.disabled=w=i[0]>=M.sentences.length-1,d(t,"class","btm-nav")},m(f,k){E(f,e,k),_&&_.m(e,null),E(f,o,k),E(f,t,k),v(t,l),v(l,c),v(c,r),v(t,n),v(t,s),v(s,u),v(u,p),g=!0,y||(I=[N(l,"click",i[3]),N(s,"click",i[2])],y=!0)},p(f,[k]){f[0]!=-1?_?(_.p(f,k),k&1&&b(_,1)):(_=te(f),_.c(),b(_,1),_.m(e,null)):_&&(D(),$(_,1,1,()=>{_=null}),L()),(!g||k&1&&a!==(a=f[0]<1))&&(l.disabled=a),(!g||k&1&&w!==(w=f[0]>=M.sentences.length-1))&&(s.disabled=w)},i(f){g||(b(_),g=!0)},o(f){$(_),g=!1},d(f){f&&h(e),_&&_.d(),f&&h(o),f&&h(t),y=!1,he(I)}}}function De(i,e,o){let t=-1;var l=["palce"];function c(){o(0,t=Math.min(M.sentences.length,t+1)),o(1,l=[M.sentences[t]])}function r(){o(0,t=Math.max(0,t-1)),o(1,l=[M.sentences[t]])}return _e(()=>{window.addEventListener("keydown",a=>{a.key=="ArrowLeft"||a.key=="a"?r():(a.key=="ArrowRight"||a.key=="d")&&c()}),ye().then(()=>{c()})}),[t,l,c,r]}class Ue extends P{constructor(e){super(),S(this,e,De,Ce,z,{})}}export{Ue as component};
