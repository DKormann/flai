var ye=Object.defineProperty;var xe=(a,e,l)=>e in a?ye(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l;var K=(a,e,l)=>(xe(a,typeof e!="symbol"?e+"":e,l),l);import{J as Te,S as Y,i as Z,s as ee,k as w,q as L,a as P,l as y,m as g,r as N,c as S,h as d,n as f,b as $,G as p,K as X,u as te,g as v,v as H,d as I,f as R,L as me,M as ie,N as Ee,e as ce,y as ve,z as be,A as ke,B as we,H as Q,O as z,P as q,Q as $e,o as Ie,R as Me,T as Be,U as je,V as Fe}from"../chunks/index.36696f0a.js";function Ve(a){const e=a-1;return e*e*e+1}function ue(a,{delay:e=0,duration:l=400,easing:t=Te}={}){const o=+getComputedStyle(a).opacity;return{delay:e,duration:l,easing:t,css:c=>`opacity: ${c*o}`}}function Ae(a,{delay:e=0,duration:l=400,easing:t=Ve,axis:o="y"}={}){const c=getComputedStyle(a),r=+c.opacity,i=o==="y"?"height":"width",n=parseFloat(c[i]),s=o==="y"?["top","bottom"]:["left","right"],u=s.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),b=parseFloat(c[`padding${u[0]}`]),M=parseFloat(c[`padding${u[1]}`]),T=parseFloat(c[`margin${u[0]}`]),E=parseFloat(c[`margin${u[1]}`]),B=parseFloat(c[`border${u[0]}Width`]),j=parseFloat(c[`border${u[1]}Width`]);return{delay:e,duration:l,easing:t,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*r};${i}: ${m*n}px;padding-${s[0]}: ${m*b}px;padding-${s[1]}: ${m*M}px;margin-${s[0]}: ${m*T}px;margin-${s[1]}: ${m*E}px;border-${s[0]}-width: ${m*B}px;border-${s[1]}-width: ${m*j}px;`}}class Ce{constructor(){K(this,"sentences");K(this,"title");this.sentences=[""],this.title=""}build(e,l){this.sentences=l,this.title=e}}var A=new Ce;async function De(){const a=window.location+"/booklist.json";return new Promise((e,l)=>{fetch(a).then(t=>{t.json().then(async o=>{await Le(o[0]),e()})})})}async function Le(a){const e=window.location+"/books/"+a+".json";let t=await(await fetch(e)).json();A.build(a,t)}function fe(a){let e,l=a[0].original+"",t,o,c;return{c(){e=w("div"),t=L(l),this.h()},l(r){e=y(r,"DIV",{class:!0});var i=g(e);t=N(i,l),i.forEach(d),this.h()},h(){f(e,"class","absolute mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(r,i){$(r,e,i),p(e,t),c=!0},p(r,i){(!c||i&1)&&l!==(l=r[0].original+"")&&te(t,l)},i(r){c||(me(()=>{c&&(o||(o=ie(e,ue,{},!0)),o.run(1))}),c=!0)},o(r){o||(o=ie(e,ue,{},!1)),o.run(0),c=!1},d(r){r&&d(e),r&&o&&o.end()}}}function Ne(a){let e,l=a[0].translation+"",t,o,c,r,i,n=a[2]===a[1]&&fe(a);return{c(){e=w("button"),t=L(l),o=P(),n&&n.c(),this.h()},l(s){e=y(s,"BUTTON",{class:!0});var u=g(e);t=N(u,l),o=S(u),n&&n.l(u),u.forEach(d),this.h()},h(){f(e,"class","text-primary relative")},m(s,u){$(s,e,u),p(e,t),p(e,o),n&&n.m(e,null),c=!0,r||(i=X(e,"click",a[4]),r=!0)},p(s,[u]){(!c||u&1)&&l!==(l=s[0].translation+"")&&te(t,l),s[2]===s[1]?n?(n.p(s,u),u&6&&v(n,1)):(n=fe(s),n.c(),v(n,1),n.m(e,null)):n&&(H(),I(n,1,1,()=>{n=null}),R())},i(s){c||(v(n),c=!0)},o(s){I(n),c=!1},d(s){s&&d(e),n&&n.d(),r=!1,i()}}}function Pe(a,e,l){let{data:t}=e,{index:o}=e,{openTooltipIndex:c}=e,{toggleTooltip:r}=e;const i=()=>r(o);return a.$$set=n=>{"data"in n&&l(0,t=n.data),"index"in n&&l(1,o=n.index),"openTooltipIndex"in n&&l(2,c=n.openTooltipIndex),"toggleTooltip"in n&&l(3,r=n.toggleTooltip)},[t,o,c,r,i]}class Se extends Y{constructor(e){super(),Z(this,e,Pe,Ne,ee,{data:0,index:1,openTooltipIndex:2,toggleTooltip:3})}}function de(a,e,l){const t=a.slice();return t[6]=e[l],t[8]=l,t}function Oe(a){let e,l;return e=new Se({props:{data:a[6],index:a[8],openTooltipIndex:a[0],toggleTooltip:a[2]}}),{c(){ve(e.$$.fragment)},l(t){be(e.$$.fragment,t)},m(t,o){ke(e,t,o),l=!0},p(t,o){const c={};o&1&&(c.openTooltipIndex=t[0]),e.$set(c)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){we(e,t)}}}function Ue(a){let e=a[6]+"",l;return{c(){l=L(e)},l(t){l=N(t,e)},m(t,o){$(t,l,o)},p:Q,i:Q,o:Q,d(t){t&&d(l)}}}function _e(a){let e,l,t,o;const c=[Ue,Oe],r=[];function i(n,s){return typeof n[6]=="string"?0:1}return e=i(a),l=r[e]=c[e](a),{c(){l.c(),t=ce()},l(n){l.l(n),t=ce()},m(n,s){r[e].m(n,s),$(n,t,s),o=!0},p(n,s){l.p(n,s)},i(n){o||(v(l),o=!0)},o(n){I(l),o=!1},d(n){r[e].d(n),n&&d(t)}}}function ze(a){let e,l,t=a[1],o=[];for(let r=0;r<t.length;r+=1)o[r]=_e(de(a,t,r));const c=r=>I(o[r],1,1,()=>{o[r]=null});return{c(){e=w("p");for(let r=0;r<o.length;r+=1)o[r].c()},l(r){e=y(r,"P",{});var i=g(e);for(let n=0;n<o.length;n+=1)o[n].l(i);i.forEach(d)},m(r,i){$(r,e,i);for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(e,null);l=!0},p(r,[i]){if(i&7){t=r[1];let n;for(n=0;n<t.length;n+=1){const s=de(r,t,n);o[n]?(o[n].p(s,i),v(o[n],1)):(o[n]=_e(s),o[n].c(),v(o[n],1),o[n].m(e,null))}for(H(),n=t.length;n<o.length;n+=1)c(n);R()}},i(r){if(!l){for(let i=0;i<t.length;i+=1)v(o[i]);l=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)I(o[i]);l=!1},d(r){r&&d(e),Ee(o,r)}}}function qe(a,e,l){let{txt:t}=e,{translations:o}=e;function c(s){var u=[s];return o.forEach((b,M)=>{var T=[];u.forEach(E=>{if(typeof E=="string"&&E.includes(M)){var B=E.split(M);T.push(B[0]),T.push({translation:b,original:M}),T.push(B[1])}else T.push(E)}),u=T}),u}const r=c(t);let i=-1,n=s=>{l(0,i=i===s?-1:s)};return a.$$set=s=>{"txt"in s&&l(3,t=s.txt),"translations"in s&&l(4,o=s.translations)},[i,r,n,t,o]}class He extends Y{constructor(e){super(),Z(this,e,qe,ze,ee,{txt:3,translations:4})}}const{Map:Re}=je;function he(a,e,l){const t=a.slice();return t[5]=e[l],t}function pe(a){let e,l,t=[],o=new Re,c,r=a[1];const i=n=>n[0];for(let n=0;n<r.length;n+=1){let s=he(a,r,n),u=i(s);o.set(u,t[n]=ge(u,s))}return{c(){e=w("div"),l=w("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=y(n,"DIV",{class:!0});var s=g(e);l=y(s,"DIV",{class:!0});var u=g(l);for(let b=0;b<t.length;b+=1)t[b].l(u);u.forEach(d),s.forEach(d),this.h()},h(){f(l,"class","display text-center pb-20 p-10 text-3xl leading-loose"),f(e,"class","m-auto")},m(n,s){$(n,e,s),p(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);c=!0},p(n,s){s&3&&(r=n[1],H(),t=Me(t,s,i,1,n,r,o,l,Fe,ge,null,he),R())},i(n){if(!c){for(let s=0;s<r.length;s+=1)v(t[s]);c=!0}},o(n){for(let s=0;s<t.length;s+=1)I(t[s]);c=!1},d(n){n&&d(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function ge(a,e){let l,t,o,c,r;return t=new He({props:{txt:e[1][0],translations:new Map([])}}),{key:a,first:null,c(){l=w("div"),ve(t.$$.fragment),o=P(),this.h()},l(i){l=y(i,"DIV",{});var n=g(l);be(t.$$.fragment,n),o=S(n),n.forEach(d),this.h()},h(){this.first=l},m(i,n){$(i,l,n),ke(t,l,null),p(l,o),r=!0},p(i,n){e=i;const s={};n&2&&(s.txt=e[1][0]),t.$set(s)},i(i){r||(v(t.$$.fragment,i),c||me(()=>{c=Be(l,Ae,{duration:1e3}),c.start()}),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&d(l),we(t)}}}function We(a){let e,l,t,o,c,r,i,n,s,u=a[0]+1+"",b,M,T=A.sentences.length+"",E,B,j,m=A.title.replaceAll("_"," ")+"",W,G,F,x,C,O,D,J,ne,_=a[0]!=-1&&pe(a);return{c(){e=w("div"),_&&_.c(),l=P(),t=w("div"),o=w("button"),c=z("svg"),r=z("path"),n=P(),s=w("span"),b=L(u),M=L("/"),E=L(T),B=P(),j=w("span"),W=L(m),G=P(),F=w("button"),x=z("svg"),C=z("path"),this.h()},l(h){e=y(h,"DIV",{class:!0});var k=g(e);_&&_.l(k),k.forEach(d),l=S(h),t=y(h,"DIV",{class:!0});var V=g(t);o=y(V,"BUTTON",{});var le=g(o);c=q(le,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var oe=g(c);r=q(oe,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(r).forEach(d),oe.forEach(d),le.forEach(d),n=S(V),s=y(V,"SPAN",{class:!0});var U=g(s);b=N(U,u),M=N(U,"/"),E=N(U,T),U.forEach(d),B=S(V),j=y(V,"SPAN",{class:!0});var se=g(j);W=N(se,m),se.forEach(d),G=S(V),F=y(V,"BUTTON",{});var re=g(F);x=q(re,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ae=g(x);C=q(ae,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(C).forEach(d),ae.forEach(d),re.forEach(d),V.forEach(d),this.h()},h(){f(e,"class","flex h-screen"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(c,"fill","none"),f(c,"viewBox","0 0 24 24"),f(c,"stroke-width","1.5"),f(c,"stroke","currentColor"),f(c,"class","w-6 h-6"),o.disabled=i=a[0]<1,f(s,"class","text-xl"),f(j,"class","text-xl"),f(C,"stroke-linecap","round"),f(C,"stroke-linejoin","round"),f(C,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),f(x,"xmlns","http://www.w3.org/2000/svg"),f(x,"fill","none"),f(x,"viewBox","0 0 24 24"),f(x,"stroke-width","1.5"),f(x,"stroke","currentColor"),f(x,"class","w-6 h-6"),F.disabled=O=a[0]>=A.sentences.length-1,f(t,"class","btm-nav")},m(h,k){$(h,e,k),_&&_.m(e,null),$(h,l,k),$(h,t,k),p(t,o),p(o,c),p(c,r),p(t,n),p(t,s),p(s,b),p(s,M),p(s,E),p(t,B),p(t,j),p(j,W),p(t,G),p(t,F),p(F,x),p(x,C),D=!0,J||(ne=[X(o,"click",a[3]),X(F,"click",a[2])],J=!0)},p(h,[k]){h[0]!=-1?_?(_.p(h,k),k&1&&v(_,1)):(_=pe(h),_.c(),v(_,1),_.m(e,null)):_&&(H(),I(_,1,1,()=>{_=null}),R()),(!D||k&1&&i!==(i=h[0]<1))&&(o.disabled=i),(!D||k&1)&&u!==(u=h[0]+1+"")&&te(b,u),(!D||k&1&&O!==(O=h[0]>=A.sentences.length-1))&&(F.disabled=O)},i(h){D||(v(_),D=!0)},o(h){I(_),D=!1},d(h){h&&d(e),_&&_.d(),h&&d(l),h&&d(t),J=!1,$e(ne)}}}function Ge(a,e,l){let t=-1;var o=["palce"];function c(){l(0,t=Math.min(A.sentences.length,t+1)),l(1,o=[A.sentences[t]])}function r(){l(0,t=Math.max(0,t-1)),l(1,o=[A.sentences[t]])}return Ie(()=>{window.addEventListener("keydown",i=>{i.key=="ArrowLeft"||i.key=="a"?r():(i.key=="ArrowRight"||i.key=="d"||i.key==" ")&&c()}),De().then(()=>{c()})}),[t,o,c,r]}class Qe extends Y{constructor(e){super(),Z(this,e,Ge,We,ee,{})}}export{Qe as component};
