var Ie=Object.defineProperty;var Me=(a,t,l)=>t in a?Ie(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;var X=(a,t,l)=>(Me(a,typeof t!="symbol"?t+"":t,l),l);import{J as Be,S as Z,i as ee,s as te,k,q as L,a as C,l as w,m as g,r as S,c as D,h as d,n as f,b as j,G as h,K as O,u as ne,g as y,v as R,d as $,f as G,L as ke,M as ue,N as je,e as fe,y as we,z as ye,A as xe,B as Te,H as Y,O as q,P as H,Q as de,R as Ee,T as $e,o as Fe,U as Ne,V as Pe,W as Ve,X as Ae}from"../chunks/index.e2645f4e.js";function Ce(a){const t=a-1;return t*t*t+1}function _e(a,{delay:t=0,duration:l=400,easing:e=Be}={}){const o=+getComputedStyle(a).opacity;return{delay:t,duration:l,easing:e,css:c=>`opacity: ${c*o}`}}function De(a,{delay:t=0,duration:l=400,easing:e=Ce,axis:o="y"}={}){const c=getComputedStyle(a),r=+c.opacity,i=o==="y"?"height":"width",n=parseFloat(c[i]),s=o==="y"?["top","bottom"]:["left","right"],u=s.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),x=parseFloat(c[`padding${u[0]}`]),F=parseFloat(c[`padding${u[1]}`]),E=parseFloat(c[`margin${u[0]}`]),I=parseFloat(c[`margin${u[1]}`]),N=parseFloat(c[`border${u[0]}Width`]),v=parseFloat(c[`border${u[1]}Width`]);return{delay:t,duration:l,easing:e,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*r};${i}: ${m*n}px;padding-${s[0]}: ${m*x}px;padding-${s[1]}: ${m*F}px;margin-${s[0]}: ${m*E}px;margin-${s[1]}: ${m*I}px;border-${s[0]}-width: ${m*N}px;border-${s[1]}-width: ${m*v}px;`}}class Le{constructor(){X(this,"sentences");X(this,"title");this.sentences=[""],this.title=""}build(t,l){this.sentences=l,this.title=t}}var B=new Le;async function Se(){const a=window.location+"/booklist.json";return new Promise((t,l)=>{fetch(a).then(e=>{e.json().then(async o=>{await Ue(o[0]),t()})})})}async function Ue(a){const t=window.location+"/books/"+a+".json";let e=await(await fetch(t)).json();B.build(a,e)}function he(a){let t,l=a[0].original+"",e,o,c;return{c(){t=k("div"),e=L(l),this.h()},l(r){t=w(r,"DIV",{class:!0});var i=g(t);e=S(i,l),i.forEach(d),this.h()},h(){f(t,"class","absolute mt-1 p-1 px-4 z-10 bg-gray-700 bg-opacity-100 rounded shadow-md")},m(r,i){j(r,t,i),h(t,e),c=!0},p(r,i){(!c||i&1)&&l!==(l=r[0].original+"")&&ne(e,l)},i(r){c||(ke(()=>{c&&(o||(o=ue(t,_e,{},!0)),o.run(1))}),c=!0)},o(r){o||(o=ue(t,_e,{},!1)),o.run(0),c=!1},d(r){r&&d(t),r&&o&&o.end()}}}function Oe(a){let t,l=a[0].translation+"",e,o,c,r,i,n=a[2]===a[1]&&he(a);return{c(){t=k("button"),e=L(l),o=C(),n&&n.c(),this.h()},l(s){t=w(s,"BUTTON",{class:!0});var u=g(t);e=S(u,l),o=D(u),n&&n.l(u),u.forEach(d),this.h()},h(){f(t,"class","text-primary relative")},m(s,u){j(s,t,u),h(t,e),h(t,o),n&&n.m(t,null),c=!0,r||(i=O(t,"click",a[4]),r=!0)},p(s,[u]){(!c||u&1)&&l!==(l=s[0].translation+"")&&ne(e,l),s[2]===s[1]?n?(n.p(s,u),u&6&&y(n,1)):(n=he(s),n.c(),y(n,1),n.m(t,null)):n&&(R(),$(n,1,1,()=>{n=null}),G())},i(s){c||(y(n),c=!0)},o(s){$(n),c=!1},d(s){s&&d(t),n&&n.d(),r=!1,i()}}}function ze(a,t,l){let{data:e}=t,{index:o}=t,{openTooltipIndex:c}=t,{toggleTooltip:r}=t;const i=()=>r(o);return a.$$set=n=>{"data"in n&&l(0,e=n.data),"index"in n&&l(1,o=n.index),"openTooltipIndex"in n&&l(2,c=n.openTooltipIndex),"toggleTooltip"in n&&l(3,r=n.toggleTooltip)},[e,o,c,r,i]}class We extends Z{constructor(t){super(),ee(this,t,ze,Oe,te,{data:0,index:1,openTooltipIndex:2,toggleTooltip:3})}}function pe(a,t,l){const e=a.slice();return e[6]=t[l],e[8]=l,e}function qe(a){let t,l;return t=new We({props:{data:a[6],index:a[8],openTooltipIndex:a[0],toggleTooltip:a[2]}}),{c(){we(t.$$.fragment)},l(e){ye(t.$$.fragment,e)},m(e,o){xe(t,e,o),l=!0},p(e,o){const c={};o&1&&(c.openTooltipIndex=e[0]),t.$set(c)},i(e){l||(y(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){Te(t,e)}}}function He(a){let t=a[6]+"",l;return{c(){l=L(t)},l(e){l=S(e,t)},m(e,o){j(e,l,o)},p:Y,i:Y,o:Y,d(e){e&&d(l)}}}function ge(a){let t,l,e,o;const c=[He,qe],r=[];function i(n,s){return typeof n[6]=="string"?0:1}return t=i(a),l=r[t]=c[t](a),{c(){l.c(),e=fe()},l(n){l.l(n),e=fe()},m(n,s){r[t].m(n,s),j(n,e,s),o=!0},p(n,s){l.p(n,s)},i(n){o||(y(l),o=!0)},o(n){$(l),o=!1},d(n){r[t].d(n),n&&d(e)}}}function Re(a){let t,l,e=a[1],o=[];for(let r=0;r<e.length;r+=1)o[r]=ge(pe(a,e,r));const c=r=>$(o[r],1,1,()=>{o[r]=null});return{c(){t=k("p");for(let r=0;r<o.length;r+=1)o[r].c()},l(r){t=w(r,"P",{});var i=g(t);for(let n=0;n<o.length;n+=1)o[n].l(i);i.forEach(d)},m(r,i){j(r,t,i);for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,null);l=!0},p(r,[i]){if(i&7){e=r[1];let n;for(n=0;n<e.length;n+=1){const s=pe(r,e,n);o[n]?(o[n].p(s,i),y(o[n],1)):(o[n]=ge(s),o[n].c(),y(o[n],1),o[n].m(t,null))}for(R(),n=e.length;n<o.length;n+=1)c(n);G()}},i(r){if(!l){for(let i=0;i<e.length;i+=1)y(o[i]);l=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)$(o[i]);l=!1},d(r){r&&d(t),je(o,r)}}}function Ge(a,t,l){let{txt:e}=t,{translations:o}=t;function c(s){var u=[s];return o.forEach((x,F)=>{var E=[];u.forEach(I=>{if(typeof I=="string"&&I.includes(F)){var N=I.split(F);E.push(N[0]),E.push({translation:x,original:F}),E.push(N[1])}else E.push(I)}),u=E}),u}const r=c(e);let i=-1,n=s=>{l(0,i=i===s?-1:s)};return a.$$set=s=>{"txt"in s&&l(3,e=s.txt),"translations"in s&&l(4,o=s.translations)},[i,r,n,e,o]}class Je extends Z{constructor(t){super(),ee(this,t,Ge,Re,te,{txt:3,translations:4})}}const{Map:Ke}=Ve;function me(a,t,l){const e=a.slice();return e[8]=t[l],e}function ve(a){let t,l,e=[],o=new Ke,c,r=a[2];const i=n=>n[0];for(let n=0;n<r.length;n+=1){let s=me(a,r,n),u=i(s);o.set(u,e[n]=be(u,s))}return{c(){t=k("div"),l=k("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=w(n,"DIV",{class:!0});var s=g(t);l=w(s,"DIV",{class:!0});var u=g(l);for(let x=0;x<e.length;x+=1)e[x].l(u);u.forEach(d),s.forEach(d),this.h()},h(){f(l,"class","display text-center pb-20 p-10 text-3xl leading-loose"),f(t,"class","m-auto")},m(n,s){j(n,t,s),h(t,l);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,null);c=!0},p(n,s){s&5&&(r=n[2],R(),e=Ne(e,s,i,1,n,r,o,l,Ae,be,null,me),G())},i(n){if(!c){for(let s=0;s<r.length;s+=1)y(e[s]);c=!0}},o(n){for(let s=0;s<e.length;s+=1)$(e[s]);c=!1},d(n){n&&d(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function be(a,t){let l,e,o,c,r;return e=new Je({props:{txt:t[2][0],translations:new Map([])}}),{key:a,first:null,c(){l=k("div"),we(e.$$.fragment),o=C(),this.h()},l(i){l=w(i,"DIV",{});var n=g(l);ye(e.$$.fragment,n),o=D(n),n.forEach(d),this.h()},h(){this.first=l},m(i,n){j(i,l,n),xe(e,l,null),h(l,o),r=!0},p(i,n){t=i;const s={};n&4&&(s.txt=t[2][0]),e.$set(s)},i(i){r||(y(e.$$.fragment,i),c||ke(()=>{c=Pe(l,De,{duration:1e3}),c.start()}),r=!0)},o(i){$(e.$$.fragment,i),r=!1},d(i){i&&d(l),Te(e)}}}function Qe(a){let t,l,e,o,c,r,i,n,s,u=a[0]+1+"",x,F,E=B.sentences.length+"",I,N,v,m,U,le=B.title.replaceAll("_"," ")+"",J,K,P,T,V,z,A,Q,oe,p=a[0]!=-1&&ve(a);return{c(){t=k("div"),p&&p.c(),l=C(),e=k("div"),o=k("button"),c=q("svg"),r=q("path"),n=C(),s=k("span"),x=L(u),F=L("/"),I=L(E),N=C(),v=k("input"),m=C(),U=k("span"),J=L(le),K=C(),P=k("button"),T=q("svg"),V=q("path"),this.h()},l(_){t=w(_,"DIV",{class:!0});var b=g(t);p&&p.l(b),b.forEach(d),l=D(_),e=w(_,"DIV",{class:!0});var M=g(e);o=w(M,"BUTTON",{});var se=g(o);c=H(se,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var re=g(c);r=H(re,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(r).forEach(d),re.forEach(d),se.forEach(d),n=D(M),s=w(M,"SPAN",{class:!0});var W=g(s);x=S(W,u),F=S(W,"/"),I=S(W,E),W.forEach(d),N=D(M),v=w(M,"INPUT",{type:!0,min:!0,max:!0,class:!0}),m=D(M),U=w(M,"SPAN",{class:!0});var ae=g(U);J=S(ae,le),ae.forEach(d),K=D(M),P=w(M,"BUTTON",{});var ie=g(P);T=H(ie,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ce=g(T);V=H(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(V).forEach(d),ce.forEach(d),ie.forEach(d),M.forEach(d),this.h()},h(){f(t,"class","flex h-screen"),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"d","M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(c,"fill","none"),f(c,"viewBox","0 0 24 24"),f(c,"stroke-width","1.5"),f(c,"stroke","currentColor"),f(c,"class","w-6 h-6"),o.disabled=i=a[0]<1,f(s,"class","text-xl"),f(v,"type","number"),f(v,"min","1"),f(v,"max",B.sentences.length),f(v,"class","page-input"),f(U,"class","text-xl"),f(V,"stroke-linecap","round"),f(V,"stroke-linejoin","round"),f(V,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),f(T,"xmlns","http://www.w3.org/2000/svg"),f(T,"fill","none"),f(T,"viewBox","0 0 24 24"),f(T,"stroke-width","1.5"),f(T,"stroke","currentColor"),f(T,"class","w-6 h-6"),P.disabled=z=a[0]>=B.sentences.length-1,f(e,"class","btm-nav")},m(_,b){j(_,t,b),p&&p.m(t,null),j(_,l,b),j(_,e,b),h(e,o),h(o,c),h(c,r),h(e,n),h(e,s),h(s,x),h(s,F),h(s,I),h(e,N),h(e,v),de(v,a[1]),h(e,m),h(e,U),h(U,J),h(e,K),h(e,P),h(P,T),h(T,V),A=!0,Q||(oe=[O(o,"click",a[5]),O(v,"input",a[6]),O(v,"input",a[3]),O(P,"click",a[4])],Q=!0)},p(_,[b]){_[0]!=-1?p?(p.p(_,b),b&1&&y(p,1)):(p=ve(_),p.c(),y(p,1),p.m(t,null)):p&&(R(),$(p,1,1,()=>{p=null}),G()),(!A||b&1&&i!==(i=_[0]<1))&&(o.disabled=i),(!A||b&1)&&u!==(u=_[0]+1+"")&&ne(x,u),b&2&&Ee(v.value)!==_[1]&&de(v,_[1]),(!A||b&1&&z!==(z=_[0]>=B.sentences.length-1))&&(P.disabled=z)},i(_){A||(y(p),A=!0)},o(_){$(p),A=!1},d(_){_&&d(t),p&&p.d(),_&&d(l),_&&d(e),Q=!1,$e(oe)}}}function Xe(a,t,l){let e=-1,o=1;function c(){o!=null&&(l(0,e=o-1),l(2,r=[B.sentences[e]]))}var r=["palce"];function i(){l(0,e=Math.min(B.sentences.length,e+1)),l(2,r=[B.sentences[e]])}function n(){l(0,e=Math.max(0,e-1)),l(2,r=[B.sentences[e]])}Fe(()=>{window.addEventListener("keydown",u=>{u.key=="ArrowLeft"||u.key=="a"?n():(u.key=="ArrowRight"||u.key=="d"||u.key==" ")&&i()}),Se().then(()=>{i()})});function s(){o=Ee(this.value),l(1,o)}return[e,o,r,c,i,n,s]}class et extends Z{constructor(t){super(),ee(this,t,Xe,Qe,te,{})}}export{et as component};
